<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Daily Jam â€” Who Sang It?</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;0,900;1,700&family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0e0c0f; --surface: #161418; --surface2: #1e1b21; --border: #272330;
    --amber: #9b6dff; --amber-glow: rgba(155,109,255,0.12);
    --text: #e8e0d0; --text-dim: #9e9080; --text-muted: #6a6460;
    --green: #5dba7f; --red: #e85d4a;
    --y1:#5d8fe8; --y2:#5dba7f; --y3:#e85d8f; --y4:#e8a45d;
    --y5:#a45de8; --y6:#5de8e8; --y7:#e8e85d; --y8:#FF6B6B;
    --cc: #a45de8;
  }
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { background: #0a0810; color: var(--text); font-family: 'Space Mono', monospace; min-height: 100vh; overflow-x: hidden; }
  body::before { content: ''; position: fixed; inset: 0; pointer-events: none; z-index: 0;
    background:
      radial-gradient(ellipse 90% 70% at 5%  0%,   rgba(155,109,255,0.38) 0%, transparent 65%),
      radial-gradient(ellipse 70% 60% at 95% 100%,  rgba(93,143,232,0.28)  0%, transparent 60%),
      radial-gradient(ellipse 55% 45% at 88% 5%,    rgba(232,93,143,0.18)  0%, transparent 55%),
      radial-gradient(ellipse 50% 40% at 3%  95%,   rgba(93,186,127,0.18)  0%, transparent 55%); }
  body::after { content: ''; position: fixed; inset: 0; background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.04'/%3E%3C/svg%3E"); pointer-events: none; z-index: 9999; opacity: 0.4; }

  /* â”€â”€ NAV â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .site-nav { position: sticky; top: 0; z-index: 100; display: flex; align-items: center; justify-content: space-between; padding: 0 40px; height: 56px; background: rgba(14,12,15,0.95); border-bottom: 1px solid var(--border); backdrop-filter: blur(8px); }
  .site-logo { font-family: 'Space Mono', monospace; font-size: 16px; font-weight: 700; color: var(--text); text-decoration: none; letter-spacing: 1px; }
  .site-logo span { color: var(--amber); font-style: italic; }
  .nav-links { display: flex; gap: 4px; align-items: center; }
  .nav-link { font-size: 11px; letter-spacing: 2px; text-transform: uppercase; color: var(--text-dim); text-decoration: none; padding: 8px 14px; transition: color 0.15s; }
  .nav-link:hover { color: var(--text); }
  .nav-link.active { color: var(--amber); }

  /* â”€â”€ SETUP SCREEN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .setup-screen { position: relative; z-index: 1; max-width: 900px; margin: 0 auto; padding: 60px 48px 80px; }
  .setup-eye   { font-size: 10px; letter-spacing: 4px; text-transform: uppercase; color: var(--text-muted); margin-bottom: 14px; }
  .setup-head  { font-family: 'Playfair Display', serif; font-size: clamp(36px, 5vw, 64px); font-weight: 900; line-height: 1; margin-bottom: 12px; }
  .setup-head em { color: var(--cc); font-style: italic; }
  .setup-sub   { font-size: 12px; color: var(--text-dim); letter-spacing: 1px; line-height: 1.9; max-width: 540px; margin-bottom: 48px; }

  .diff-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 1px; background: var(--border); border: 1px solid var(--border); margin-bottom: 32px; }
  .diff-card {
    background: var(--surface); padding: 28px 24px 24px; cursor: pointer;
    display: flex; flex-direction: column; gap: 0; position: relative; overflow: hidden;
    transition: background 0.15s; border: 2px solid transparent;
  }
  .diff-card:hover { background: var(--surface2); }
  .diff-card.selected { background: var(--surface2); border-color: var(--diff-color, var(--cc)); }
  .diff-card::after { content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 3px; background: var(--diff-color, var(--cc)); transform: scaleX(0); transform-origin: left; transition: transform 0.2s; }
  .diff-card:hover::after, .diff-card.selected::after { transform: scaleX(1); }

  .diff-name  { font-family: 'Playfair Display', serif; font-size: 22px; font-weight: 700; color: var(--diff-color, var(--cc)); margin-bottom: 14px; }
  .diff-icon  { font-size: 24px; margin-bottom: 14px; line-height: 1; }
  .diff-rules { display: flex; flex-direction: column; gap: 6px; margin-bottom: 20px; flex: 1; }
  .diff-rule  { font-size: 10px; letter-spacing: 0.5px; color: var(--text-dim); line-height: 1.6; display: flex; align-items: flex-start; gap: 7px; }
  .diff-rule::before { content: 'â€”'; color: var(--diff-color, var(--cc)); flex-shrink: 0; }
  .diff-badge { display: inline-block; font-size: 9px; letter-spacing: 1.5px; text-transform: uppercase; padding: 3px 8px; border: 1px solid var(--diff-color, var(--cc)); color: var(--diff-color, var(--cc)); align-self: flex-start; margin-top: auto; }

  .setup-start-row { display: flex; justify-content: flex-start; }
  .setup-start-btn { background: var(--cc); color: #0a0810; font-family: 'Space Mono', monospace; font-size: 12px; font-weight: 700; letter-spacing: 3px; text-transform: uppercase; padding: 16px 56px; border: none; cursor: pointer; transition: opacity 0.15s; }
  .setup-start-btn:hover { opacity: 0.85; }
  .setup-start-btn:disabled { opacity: 0.35; cursor: default; }

  /* â”€â”€ GAME HEADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .game-header { position: relative; z-index: 1; padding: 16px 48px; border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: space-between; gap: 16px; }
  .game-title-row { display: flex; flex-direction: column; gap: 4px; }
  .game-eyebrow { font-size: 10px; letter-spacing: 3px; text-transform: uppercase; color: var(--cc); }
  .game-title-text { font-family: 'Playfair Display', serif; font-size: 24px; font-weight: 700; }
  .game-diff-badge { font-size: 9px; letter-spacing: 2px; text-transform: uppercase; padding: 3px 10px; border: 1px solid var(--cc); color: var(--cc); margin-top: 4px; align-self: flex-start; }
  .header-stats { display: flex; align-items: center; gap: 36px; }
  .stat-block { display: flex; flex-direction: column; align-items: center; gap: 3px; }
  .stat-label { font-size: 10px; letter-spacing: 2px; text-transform: uppercase; color: var(--text-muted); }
  .stat-val { font-family: 'Playfair Display', serif; font-size: 32px; font-weight: 900; line-height: 1; }
  .stat-val.streak { color: var(--cc); }
  .stat-val.best   { color: var(--amber); }
  .stat-val.score  { color: var(--green); }

  /* â”€â”€ MAIN LAYOUT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .game-body { position: relative; z-index: 1; max-width: 1200px; margin: 0 auto; padding: 48px 48px 80px; display: flex; flex-direction: column; gap: 32px; }

  /* Song title â€” full width, big */
  .song-card { background: var(--surface); border: 1px solid var(--border); padding: 36px 48px; display: flex; flex-direction: column; gap: 8px; }
  .song-card-eyebrow { font-size: 10px; letter-spacing: 4px; text-transform: uppercase; color: var(--text-muted); }
  .song-title { font-family: 'Playfair Display', serif; font-size: clamp(32px, 4.5vw, 64px); font-weight: 900; line-height: 1.05; color: var(--text); }
  .song-title.hidden-title { color: var(--text-muted); font-style: italic; }

  /* 2-col row: embed left, choices right */
  .main-row { display: grid; grid-template-columns: 1fr 1.4fr; gap: 24px; align-items: start; }

  /* â”€â”€ SPOTIFY EMBED â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .embed-col { display: flex; flex-direction: column; gap: 14px; }
  .embed-label { font-size: 10px; letter-spacing: 3px; text-transform: uppercase; color: var(--text-muted); }
  .embed-frame-wrap { position: relative; border: 1px solid var(--border); overflow: hidden; background: var(--surface); height: 200px; }
  .embed-frame-wrap iframe { display: block; border: none; }

  /* Text blocker â€” covers song title / artist text but not album art or controls */
  .text-blocker {
    position: absolute; top: 0; bottom: 0;
    left: 104px; right: 120px;
    background: var(--surface);
    pointer-events: none;
    z-index: 3;
  }
  .text-blocker.hidden { display: none; }

  /* Album art blocker â€” covers left side (album art area) for Medium/Hard/Expert */
  .art-blocker {
    position: absolute; top: 0; bottom: 0; left: 0; width: 108px;
    background: var(--surface);
    pointer-events: none;
    z-index: 4;
    display: flex; align-items: center; justify-content: center;
  }
  .art-blocker.hidden { display: none; }
  .art-blocker-icon { font-size: 28px; opacity: 0.25; }

  /* Full-cover play button shown before first click */
  .play-btn-wrap {
    position: absolute; inset: 0; z-index: 10;
    display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 16px;
    background: var(--surface);
    cursor: pointer;
    transition: background 0.15s;
  }
  .play-btn-wrap:hover { background: var(--surface2); }
  .play-btn-wrap.hidden { display: none; }
  .play-circle {
    width: 72px; height: 72px; border-radius: 50%;
    background: var(--cc); display: flex; align-items: center; justify-content: center;
    transition: opacity 0.15s;
  }
  .play-btn-wrap:hover .play-circle { opacity: 0.85; }
  .play-triangle {
    width: 0; height: 0;
    border-top: 13px solid transparent;
    border-bottom: 13px solid transparent;
    border-left: 22px solid #0a0810;
    margin-left: 5px;
  }
  .play-btn-label { font-size: 10px; letter-spacing: 3px; text-transform: uppercase; color: var(--text-muted); }
  .embed-hint { font-size: 10px; color: var(--text-muted); letter-spacing: 1px; line-height: 1.7; }

  /* â”€â”€ CHOICES COLUMN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .choices-col { display: flex; flex-direction: column; gap: 14px; }
  .choices-label { font-size: 10px; letter-spacing: 3px; text-transform: uppercase; color: var(--text-muted); }
  .choices-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
  .choices-grid.six-up { grid-template-columns: 1fr 1fr 1fr; }
  .choice-btn {
    background: var(--surface); border: 2px solid var(--border); color: var(--text);
    font-family: 'Space Mono', monospace; font-size: 13px; font-weight: 700; letter-spacing: 0.5px;
    padding: 24px 22px; text-align: left; cursor: pointer;
    transition: border-color 0.15s, background 0.15s, color 0.15s;
    display: flex; align-items: center; gap: 14px; position: relative; overflow: hidden;
    min-height: 88px; line-height: 1.4;
  }
  .choices-grid.six-up .choice-btn { min-height: 72px; font-size: 12px; padding: 18px 16px; }
  .choice-btn::after { content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 3px; background: var(--cc); transform: scaleX(0); transform-origin: left; transition: transform 0.2s; }
  .choice-btn:hover:not(:disabled) { border-color: var(--cc); background: var(--surface2); }
  .choice-btn:hover:not(:disabled)::after { transform: scaleX(1); }
  .choice-btn:disabled { cursor: default; }
  .choice-btn.correct  { border-color: var(--green); background: rgba(93,186,127,0.08); color: var(--green); }
  .choice-btn.correct::after { background: var(--green); transform: scaleX(1); }
  .choice-btn.wrong    { border-color: var(--red); background: rgba(232,93,74,0.08); color: var(--red); opacity: 0.7; }
  .choice-btn.wrong::after { display: none; }
  .choice-btn.reveal   { border-color: var(--green); background: rgba(93,186,127,0.08); color: var(--green); }
  .choice-btn.reveal::after { background: var(--green); transform: scaleX(1); }
  .choice-letter { font-size: 11px; letter-spacing: 2px; color: var(--text-muted); flex-shrink: 0; min-width: 18px; }
  .choice-btn.correct .choice-letter,
  .choice-btn.wrong   .choice-letter,
  .choice-btn.reveal  .choice-letter { color: inherit; opacity: 0.7; }

  /* â”€â”€ RESULT BANNER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .result-banner { display: none; flex-direction: row; align-items: center; gap: 24px; padding: 24px 32px; border: 1px solid var(--border); }
  .result-banner.correct { border-color: var(--green); background: rgba(93,186,127,0.05); }
  .result-banner.wrong   { border-color: var(--red);   background: rgba(232,93,74,0.05); }
  .result-left { display: flex; flex-direction: column; gap: 5px; flex: 1; }
  .result-verdict { font-size: 11px; font-weight: 700; letter-spacing: 3px; text-transform: uppercase; }
  .result-banner.correct .result-verdict { color: var(--green); }
  .result-banner.wrong   .result-verdict { color: var(--red); }
  .result-detail { font-size: 13px; color: var(--text-dim); line-height: 1.7; }
  .result-pts { font-family: 'Playfair Display', serif; font-size: 48px; font-weight: 900; flex-shrink: 0; line-height: 1; }
  .result-banner.correct .result-pts { color: var(--green); }
  .result-banner.wrong   .result-pts  { color: var(--red); }

  /* â”€â”€ NEXT / GAME OVER BUTTON â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .next-row { display: flex; justify-content: center; }
  .next-btn { display: none; background: var(--cc); color: #0a0810; font-family: 'Space Mono', monospace; font-size: 12px; font-weight: 700; letter-spacing: 3px; text-transform: uppercase; padding: 16px 56px; border: none; cursor: pointer; transition: opacity 0.15s; }
  .next-btn:hover { opacity: 0.85; }
  .next-btn.game-over { background: var(--red); }

  /* â”€â”€ SUMMARY SCREEN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .summary-screen { display: none; position: relative; z-index: 1; max-width: 760px; margin: 0 auto; padding: 60px 48px 80px; flex-direction: column; gap: 32px; align-items: center; text-align: center; }
  .sum-eye    { font-size: 10px; letter-spacing: 4px; text-transform: uppercase; color: var(--text-muted); }
  .sum-head   { font-family: 'Playfair Display', serif; font-size: clamp(40px, 7vw, 84px); font-weight: 900; color: var(--red); line-height: 0.92; }
  .sum-streak { font-family: 'Playfair Display', serif; font-size: clamp(72px, 12vw, 140px); font-weight: 900; color: var(--cc); line-height: 1; }
  .sum-streak-label { font-size: 11px; letter-spacing: 4px; text-transform: uppercase; color: var(--text-muted); margin-top: -8px; }
  .sum-sub    { font-size: 13px; color: var(--text-dim); line-height: 1.9; max-width: 480px; }
  .sum-rows   { width: 100%; display: flex; flex-direction: column; gap: 1px; background: var(--border); border: 1px solid var(--border); text-align: left; }
  .sum-row    { background: var(--surface); display: grid; grid-template-columns: auto 1fr auto auto; align-items: center; gap: 16px; padding: 16px 20px; }
  .sum-num    { font-size: 11px; color: var(--text-muted); min-width: 20px; }
  .sum-song   { overflow: hidden; }
  .sum-title  { font-size: 12px; color: var(--text); overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
  .sum-artist-ans { font-size: 10px; color: var(--text-muted); margin-top: 2px; }
  .sum-verdict { font-size: 18px; }
  .sum-pts    { font-family: 'Playfair Display', serif; font-size: 20px; font-weight: 700; }
  .sum-pts.p1000 { color: var(--green); }
  .sum-pts.p0    { color: var(--red); }
  .sum-actions { display: flex; gap: 12px; flex-wrap: wrap; justify-content: center; }
  .sum-btn { font-family: 'Space Mono', monospace; font-size: 11px; font-weight: 700; letter-spacing: 3px; text-transform: uppercase; padding: 14px 32px; border: none; cursor: pointer; transition: opacity 0.15s; }
  .sum-btn.primary   { background: var(--cc); color: #0a0810; }
  .sum-btn.secondary { background: transparent; border: 1px solid var(--border); color: var(--text-dim); }
  .sum-btn:hover { opacity: 0.8; }

  @media (max-width: 1000px) {
    .diff-grid { grid-template-columns: repeat(2, 1fr); }
  }
  @media (max-width: 960px) {
    .main-row { grid-template-columns: 1fr; }
    .choices-grid.six-up { grid-template-columns: 1fr 1fr; }
  }
  @media (max-width: 700px) {
    .site-nav { padding: 0 16px; }
    .game-header { padding: 12px 16px; }
    .header-stats { gap: 20px; }
    .stat-val { font-size: 24px; }
    .game-body { padding: 24px 16px 60px; gap: 24px; }
    .song-card { padding: 24px 20px; }
    .choices-grid { grid-template-columns: 1fr; }
    .choices-grid.six-up { grid-template-columns: 1fr; }
    .result-banner { flex-direction: column; gap: 12px; }
    .result-pts { font-size: 36px; }
    .summary-screen { padding: 40px 16px 60px; }
    .setup-screen { padding: 40px 16px 60px; }
    .diff-grid { grid-template-columns: 1fr 1fr; }
  }
  @media (max-width: 480px) {
    .diff-grid { grid-template-columns: 1fr; }
  }
</style>
</head>
<body>

<nav class="site-nav">
  <a class="site-logo" href="index.html">Daily <span>Jam</span></a>
  <div class="nav-links">
    <a class="nav-link" href="index.html">Home</a>
    <a class="nav-link" href="catalog.html">Catalog</a>
    <a class="nav-link" href="calendar.html">Calendar</a>
    <a class="nav-link" href="stats.html">Stats</a>
    <a class="nav-link" href="shuffle.html">Shuffle</a>
    <a class="nav-link active" href="games.html">Games</a>
    <a class="nav-link" href="daily-jam-links.html">Links</a>
  </div>
</nav>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SETUP SCREEN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="setup-screen" id="setup-screen">
  <p class="setup-eye">Game 06 â€” Who Sang It?</p>
  <h1 class="setup-head">Choose Your<br><em>Difficulty</em></h1>
  <p class="setup-sub">Pick how hard you want to work for it. All modes are endless streak â€” play until you get one wrong.</p>

  <div class="diff-grid" id="diff-grid">

    <div class="diff-card" style="--diff-color:#5dba7f" data-diff="easy" onclick="selectDiff(this)">
      <div class="diff-icon">ðŸŽµ</div>
      <div class="diff-name">Easy</div>
      <div class="diff-rules">
        <div class="diff-rule">Song title shown</div>
        <div class="diff-rule">Album art visible</div>
        <div class="diff-rule">4 answer choices</div>
      </div>
      <div class="diff-badge">4 Choices</div>
    </div>

    <div class="diff-card" style="--diff-color:#5d8fe8" data-diff="medium" onclick="selectDiff(this)">
      <div class="diff-icon">ðŸŽ§</div>
      <div class="diff-name">Medium</div>
      <div class="diff-rules">
        <div class="diff-rule">Song title shown</div>
        <div class="diff-rule">Album art hidden</div>
        <div class="diff-rule">4 answer choices</div>
      </div>
      <div class="diff-badge">4 Choices</div>
    </div>

    <div class="diff-card" style="--diff-color:#e8a45d" data-diff="hard" onclick="selectDiff(this)">
      <div class="diff-icon">ðŸ”¥</div>
      <div class="diff-name">Hard</div>
      <div class="diff-rules">
        <div class="diff-rule">Song title shown</div>
        <div class="diff-rule">Album art hidden</div>
        <div class="diff-rule">6 answer choices</div>
      </div>
      <div class="diff-badge">6 Choices</div>
    </div>

    <div class="diff-card" style="--diff-color:#e85d8f" data-diff="expert" onclick="selectDiff(this)">
      <div class="diff-icon">ðŸ’€</div>
      <div class="diff-name">Expert</div>
      <div class="diff-rules">
        <div class="diff-rule">Song title hidden until answer</div>
        <div class="diff-rule">Album art hidden</div>
        <div class="diff-rule">6 answer choices</div>
      </div>
      <div class="diff-badge">6 Choices Â· Blind</div>
    </div>

  </div>

  <div class="setup-start-row">
    <button class="setup-start-btn" id="setup-start-btn" onclick="startGame()" disabled>Select a difficulty â†’</button>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     GAME HEADER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="game-header" id="game-header" style="display:none">
  <div class="game-title-row">
    <span class="game-eyebrow">Game 06</span>
    <span class="game-title-text">Who Sang It?</span>
    <span class="game-diff-badge" id="game-diff-badge">Easy</span>
  </div>
  <div class="header-stats">
    <div class="stat-block">
      <span class="stat-label">Streak</span>
      <span class="stat-val streak" id="streak-val">0</span>
    </div>
    <div class="stat-block">
      <span class="stat-label">Best</span>
      <span class="stat-val best" id="best-val">0</span>
    </div>
    <div class="stat-block">
      <span class="stat-label">Score</span>
      <span class="stat-val score" id="score-val">0</span>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     GAME BODY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="game-body" id="game-body" style="display:none">

  <!-- Song title â€” full width -->
  <div class="song-card">
    <span class="song-card-eyebrow" id="song-card-eyebrow">Song Title</span>
    <span class="song-title" id="song-title">Loadingâ€¦</span>
  </div>

  <!-- 2-col: embed left, choices right -->
  <div class="main-row">

    <!-- LEFT: Spotify embed -->
    <div class="embed-col">
      <span class="embed-label">Listen for a clue</span>
      <div class="embed-frame-wrap" id="embed-frame-wrap">
        <!-- iframe injected by JS -->
        <div class="text-blocker" id="text-blocker"></div>
        <div class="art-blocker" id="art-blocker">
          <span class="art-blocker-icon">ðŸ–¼</span>
        </div>
        <div class="play-btn-wrap" id="play-btn-wrap" onclick="revealEmbed()">
          <div class="play-circle"><div class="play-triangle"></div></div>
          <span class="play-btn-label">Play Preview</span>
        </div>
      </div>
      <span class="embed-hint" id="embed-hint">30-second preview â€” artist name hidden until you answer.</span>
    </div>

    <!-- RIGHT: answer choices -->
    <div class="choices-col">
      <span class="choices-label">Who sang this song?</span>
      <div class="choices-grid" id="choices-grid"></div>
    </div>

  </div>

  <!-- Result banner -->
  <div class="result-banner" id="result-banner">
    <div class="result-left">
      <span class="result-verdict" id="result-verdict"></span>
      <span class="result-detail"  id="result-detail"></span>
    </div>
    <span class="result-pts" id="result-pts"></span>
  </div>

  <!-- Next / Game Over button -->
  <div class="next-row">
    <button class="next-btn" id="next-btn" onclick="nextRound()"></button>
  </div>

</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SUMMARY SCREEN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="summary-screen" id="summary-screen">
  <p class="sum-eye">Game Over â€” Wrong Answer</p>
  <h2 class="sum-head">Streak<br>Broken</h2>
  <div class="sum-streak" id="sum-streak"></div>
  <p class="sum-streak-label">in a row</p>
  <p class="sum-sub" id="sum-sub"></p>
  <div class="sum-rows" id="sum-rows"></div>
  <div class="sum-actions">
    <button class="sum-btn primary" onclick="goToSetup()">Change Difficulty â†’</button>
    <button class="sum-btn primary" style="background:var(--green)" onclick="restartGame()">Play Again â†’</button>
    <a class="sum-btn secondary" href="games.html">All Games</a>
  </div>
</div>

<script>
// â”€â”€ CONFIG â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const DJ_YEARS = [
  { num:1, label:'DJ1', color:'#5d8fe8', start:'2018-09-24', end:'2019-09-23' },
  { num:2, label:'DJ2', color:'#5dba7f', start:'2019-09-24', end:'2020-09-23' },
  { num:3, label:'DJ3', color:'#e85d8f', start:'2020-09-24', end:'2021-09-23' },
  { num:4, label:'DJ4', color:'#e8a45d', start:'2021-09-24', end:'2022-09-23' },
  { num:5, label:'DJ5', color:'#a45de8', start:'2022-09-24', end:'2023-09-23' },
  { num:6, label:'DJ6', color:'#5de8e8', start:'2023-09-24', end:'2024-09-23' },
  { num:7, label:'DJ7', color:'#e8e85d', start:'2024-09-24', end:'2025-09-23' },
  { num:8, label:'DJ8', color:'#FF6B6B', start:'2025-09-24', end:'2026-09-23' },
];

// Difficulty configs
const DIFFICULTIES = {
  easy:   { label:'Easy',   numChoices: 4, hideAlbumArt: false, hideSongTitle: false, color:'#5dba7f' },
  medium: { label:'Medium', numChoices: 4, hideAlbumArt: true,  hideSongTitle: false, color:'#5d8fe8' },
  hard:   { label:'Hard',   numChoices: 6, hideAlbumArt: true,  hideSongTitle: false, color:'#e8a45d' },
  expert: { label:'Expert', numChoices: 6, hideAlbumArt: true,  hideSongTitle: true,  color:'#e85d8f' },
};

// â”€â”€ STATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let allSongs      = [];
let usedSongs     = new Set();
let history       = [];
let streak        = 0;
let bestStreak    = 0;
let totalScore    = 0;
let answered      = false;
let currentRound  = null;
let currentDiff   = null;  // key into DIFFICULTIES
let selectedDiffEl = null; // DOM element for selected diff card

// â”€â”€ INIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
(async function init() {
  const arrays = await Promise.all([1,2,3,4,5,6,7,8].map(y =>
    fetch(`songs-dj${y}.json`)
      .then(r => r.text())
      .then(txt => { if (txt.charCodeAt(0) === 0xFEFF) txt = txt.slice(1); return JSON.parse(txt); })
  ));
  allSongs = arrays.flat();
  // Stay on setup screen â€” loaded and ready
})();

// â”€â”€ SETUP â€” SELECT DIFFICULTY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function selectDiff(el) {
  // Deselect previous
  if (selectedDiffEl) selectedDiffEl.classList.remove('selected');
  el.classList.add('selected');
  selectedDiffEl = el;
  currentDiff = el.dataset.diff;

  // Update start button
  const btn = document.getElementById('setup-start-btn');
  const cfg = DIFFICULTIES[currentDiff];
  btn.textContent = `Start ${cfg.label} â†’`;
  btn.disabled = false;
}

// â”€â”€ SETUP â€” START GAME â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function startGame() {
  if (!currentDiff || allSongs.length === 0) return;

  // Reset game state
  streak     = 0;
  totalScore = 0;
  answered   = false;
  history    = [];
  usedSongs  = new Set();

  // Update header badge + colors
  const cfg = DIFFICULTIES[currentDiff];
  document.getElementById('game-diff-badge').textContent = cfg.label;
  document.getElementById('game-diff-badge').style.borderColor = cfg.color;
  document.getElementById('game-diff-badge').style.color = cfg.color;

  document.getElementById('streak-val').textContent = '0';
  document.getElementById('score-val').textContent  = '0';
  // bestStreak persists across restarts

  // Show game, hide setup
  document.getElementById('setup-screen').style.display = 'none';
  document.getElementById('game-header').style.display  = 'flex';
  document.getElementById('game-body').style.display    = 'flex';
  document.getElementById('summary-screen').style.display = 'none';

  buildRound();
  renderRound();
}

// â”€â”€ HELPERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function shuffle(arr) {
  const a = [...arr];
  for (let i = a.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [a[i], a[j]] = [a[j], a[i]];
  }
  return a;
}
function getDJYear(dateStr) {
  return DJ_YEARS.find(y => dateStr >= y.start && dateStr <= y.end) || DJ_YEARS[0];
}

// â”€â”€ BUILD ONE ROUND â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function buildRound() {
  const cfg = DIFFICULTIES[currentDiff];

  const pool = allSongs.filter(s => !usedSongs.has(s[1]));
  const song = shuffle(pool.length ? pool : allSongs)[0];
  usedSongs.add(song[1]);

  const allArtists = [...new Set(allSongs.map(s => s[3]))];
  const wrongs     = shuffle(allArtists.filter(a => a !== song[3])).slice(0, cfg.numChoices - 1);
  const choices    = shuffle([song[3], ...wrongs]);

  currentRound = { song, choices, correctIndex: choices.indexOf(song[3]), result: null };
}

// â”€â”€ RENDER ROUND â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderRound() {
  answered = false;
  const r   = currentRound;
  const cfg = DIFFICULTIES[currentDiff];

  // Song title (hidden for Expert until answer)
  const titleEl = document.getElementById('song-title');
  const eyebrowEl = document.getElementById('song-card-eyebrow');
  if (cfg.hideSongTitle) {
    titleEl.textContent = '???';
    titleEl.classList.add('hidden-title');
    eyebrowEl.textContent = 'Song Title â€” Hidden';
  } else {
    titleEl.textContent = r.song[2];
    titleEl.classList.remove('hidden-title');
    eyebrowEl.textContent = 'Song Title';
  }

  // Spotify embed â€” load silently, play button covers it
  const wrap = document.getElementById('embed-frame-wrap');
  const old  = wrap.querySelector('iframe');
  if (old) old.remove();
  const iframe = document.createElement('iframe');
  iframe.src    = `https://open.spotify.com/embed/track/${r.song[1]}?utm_source=generator&theme=0`;
  iframe.width  = '100%';
  iframe.height = '200';
  iframe.setAttribute('frameborder', '0');
  iframe.setAttribute('allow', 'autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture');
  iframe.setAttribute('loading', 'lazy');
  wrap.insertBefore(iframe, document.getElementById('text-blocker'));

  // Text blocker (always on until answer)
  document.getElementById('text-blocker').classList.remove('hidden');

  // Album art blocker (Medium/Hard/Expert only â€” stays until answer)
  const artBlocker = document.getElementById('art-blocker');
  if (cfg.hideAlbumArt) {
    artBlocker.classList.remove('hidden');
  } else {
    artBlocker.classList.add('hidden');
  }

  // Play button (full cover, removed on click)
  document.getElementById('play-btn-wrap').classList.remove('hidden');

  // Embed hint
  const hint = document.getElementById('embed-hint');
  if (cfg.hideAlbumArt) {
    hint.textContent = '30-second preview â€” album art and artist name hidden until you answer.';
  } else {
    hint.textContent = '30-second preview â€” artist name hidden until you answer.';
  }

  // Choices
  const grid = document.getElementById('choices-grid');
  grid.innerHTML = '';
  if (cfg.numChoices === 6) {
    grid.classList.add('six-up');
  } else {
    grid.classList.remove('six-up');
  }
  const letters = ['A','B','C','D','E','F'];
  r.choices.forEach((artist, i) => {
    const btn = document.createElement('button');
    btn.className = 'choice-btn';
    btn.innerHTML = `<span class="choice-letter">${letters[i]}</span>${escHtml(artist)}`;
    btn.onclick   = () => selectAnswer(i);
    grid.appendChild(btn);
  });

  // Reset result + next btn
  const rb = document.getElementById('result-banner');
  rb.style.display = 'none';
  rb.className     = 'result-banner';
  document.getElementById('next-btn').style.display = 'none';
}

// â”€â”€ REVEAL EMBED (play button click) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function revealEmbed() {
  const r    = currentRound;
  const wrap = document.getElementById('embed-frame-wrap');
  const old  = wrap.querySelector('iframe');
  if (old) old.remove();
  const iframe = document.createElement('iframe');
  iframe.src    = `https://open.spotify.com/embed/track/${r.song[1]}?utm_source=generator&theme=0&autoplay=1`;
  iframe.width  = '100%';
  iframe.height = '200';
  iframe.setAttribute('frameborder', '0');
  iframe.setAttribute('allow', 'autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture');
  wrap.insertBefore(iframe, document.getElementById('text-blocker'));

  // Hide full-cover play button
  document.getElementById('play-btn-wrap').classList.add('hidden');
  // text-blocker and art-blocker stay until answer is submitted
}

// â”€â”€ ANSWER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function selectAnswer(choiceIdx) {
  if (answered) return;
  answered = true;

  const r       = currentRound;
  const cfg     = DIFFICULTIES[currentDiff];
  const correct = choiceIdx === r.correctIndex;
  const pts     = correct ? 1000 : 0;
  r.result      = { choiceIdx, correct, pts };

  if (correct) {
    streak++;
    if (streak > bestStreak) bestStreak = streak;
    totalScore += pts;
  }

  // Update header stats
  document.getElementById('streak-val').textContent = streak;
  document.getElementById('best-val').textContent   = bestStreak;
  document.getElementById('score-val').textContent  = totalScore;

  // Style buttons
  const btns = document.querySelectorAll('.choice-btn');
  btns.forEach((btn, i) => {
    btn.disabled = true;
    if (i === r.correctIndex)    btn.classList.add(correct && i === choiceIdx ? 'correct' : 'reveal');
    else if (i === choiceIdx)    btn.classList.add('wrong');
  });

  // Reveal artist in embed (remove text + art blocker)
  document.getElementById('play-btn-wrap').classList.add('hidden');
  document.getElementById('text-blocker').classList.add('hidden');
  document.getElementById('art-blocker').classList.add('hidden');

  // Reveal song title for Expert mode
  if (cfg.hideSongTitle) {
    const titleEl = document.getElementById('song-title');
    titleEl.textContent = r.song[2];
    titleEl.classList.remove('hidden-title');
    document.getElementById('song-card-eyebrow').textContent = 'Song Title â€” Revealed';
  }

  // Result banner
  const yr = getDJYear(r.song[5]);
  const rb = document.getElementById('result-banner');
  rb.className     = `result-banner ${correct ? 'correct' : 'wrong'}`;
  rb.style.display = 'flex';
  document.getElementById('result-verdict').textContent = correct ? `âœ“ Correct! Streak: ${streak}` : 'âœ— Wrong â€” streak over!';
  document.getElementById('result-pts').textContent     = correct ? `+${pts}` : 'âœ—';
  document.getElementById('result-detail').innerHTML    =
    `<strong>${escHtml(r.song[2])}</strong> is by <strong>${escHtml(r.song[3])}</strong>`
    + ` &mdash; <span style="color:${yr.color}">${yr.label}</span> (${r.song[5]})`;

  // Save to history
  history.push({ ...r });

  // Next button
  const nextBtn = document.getElementById('next-btn');
  nextBtn.style.display = 'block';
  if (correct) {
    nextBtn.textContent = 'Next Song â†’';
    nextBtn.className   = 'next-btn';
  } else {
    nextBtn.textContent = 'See Results â†’';
    nextBtn.className   = 'next-btn game-over';
  }
}

// â”€â”€ NEXT ROUND â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function nextRound() {
  const lastResult = history[history.length - 1];
  if (lastResult && !lastResult.result.correct) {
    showSummary();
    return;
  }
  buildRound();
  renderRound();
}

// â”€â”€ SUMMARY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function showSummary() {
  document.getElementById('game-header').style.display    = 'flex';
  document.getElementById('game-body').style.display      = 'none';
  document.getElementById('summary-screen').style.display = 'flex';

  const finalStreak = history.filter(r => r.result.correct).length;
  const cfg = DIFFICULTIES[currentDiff];
  document.getElementById('sum-streak').textContent = finalStreak;
  document.getElementById('sum-sub').textContent    =
    `${finalStreak} correct in a row on ${cfg.label} â€” ${totalScore.toLocaleString()} pts total`;

  const rows = document.getElementById('sum-rows');
  rows.innerHTML = '';
  history.forEach((r, i) => {
    const yr   = getDJYear(r.song[5]);
    const isOk = r.result.correct;
    const row  = document.createElement('div');
    row.className = 'sum-row';
    row.innerHTML = `
      <div class="sum-num">${i + 1}</div>
      <div class="sum-song">
        <div class="sum-title">${escHtml(r.song[2])}</div>
        <div class="sum-artist-ans" style="color:${yr.color}">${escHtml(r.song[3])} Â· ${yr.label}</div>
      </div>
      <div class="sum-verdict">${isOk ? 'âœ“' : 'âœ—'}</div>
      <div class="sum-pts ${isOk ? 'p1000' : 'p0'}">${isOk ? '+1000' : '0'}</div>
    `;
    rows.appendChild(row);
  });
}

// â”€â”€ GO TO SETUP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function goToSetup() {
  document.getElementById('game-header').style.display    = 'none';
  document.getElementById('game-body').style.display      = 'none';
  document.getElementById('summary-screen').style.display = 'none';
  document.getElementById('setup-screen').style.display   = 'block';
  // Reset best streak display when going back to setup? No â€” keep it.
  // Reset selected diff so user picks fresh
  if (selectedDiffEl) selectedDiffEl.classList.remove('selected');
  selectedDiffEl = null;
  currentDiff    = null;
  const btn = document.getElementById('setup-start-btn');
  btn.textContent = 'Select a difficulty â†’';
  btn.disabled = true;
}

// â”€â”€ RESTART (same difficulty) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function restartGame() {
  document.getElementById('summary-screen').style.display = 'none';
  document.getElementById('game-body').style.display      = 'flex';
  startGame();
}

// â”€â”€ UTIL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function escHtml(s) {
  return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');
}
</script>
</body>
</html>
