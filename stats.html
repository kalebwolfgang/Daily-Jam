<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Daily Jam — Stats & Insights</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;0,900;1,700&family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #0e0c0f; --surface: #161418; --surface2: #1e1b21; --border: #272330;
  --amber: #9b6dff; --amber-dim: rgba(155,109,255,0.32); --amber-glow: rgba(155,109,255,0.12);
  --text: #e8e0d0; --text-dim: #9e9080; --text-muted: #6a6460;
  --y1:#5d8fe8; --y2:#5dba7f; --y3:#e85d8f; --y4:#e8a45d;
  --y5:#a45de8; --y6:#5de8e8; --y7:#e8e85d; --y8:#FF6B6B;
}
* { box-sizing: border-box; margin: 0; padding: 0; }
body { background: #0a0810; color: var(--text); font-family: 'Space Mono', monospace; min-height: 100vh; }
body::before { content: ''; position: fixed; inset: 0; pointer-events: none; z-index: 0;
  background:
    radial-gradient(ellipse 90% 70% at 5%  0%,   rgba(155,109,255,0.38) 0%, transparent 65%),
    radial-gradient(ellipse 70% 60% at 95% 100%,  rgba(93,143,232,0.28)  0%, transparent 60%),
    radial-gradient(ellipse 55% 45% at 88% 5%,    rgba(232,93,143,0.18)  0%, transparent 55%),
    radial-gradient(ellipse 50% 40% at 3%  95%,   rgba(93,186,127,0.18)  0%, transparent 55%); }
body::after { content: ''; position: fixed; inset: 0; background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.04'/%3E%3C/svg%3E"); pointer-events: none; z-index: 9999; opacity: 0.4; }

.header { padding: 40px 40px 32px; border-bottom: 1px solid var(--border); }
.header h1 { font-family: 'Playfair Display', serif; font-size: clamp(36px,5vw,72px); font-weight: 900; line-height: 0.9; letter-spacing: -2px; }
.header h1 span { color: var(--amber); }
.header p { margin-top: 12px; font-size: 11px; color: var(--text-dim); letter-spacing: 3px; text-transform: uppercase; }
.nav-links { margin-top: 20px; display: flex; gap: 16px; }
.nav-link { font-size: 11px; letter-spacing: 2px; text-transform: uppercase; color: var(--text-dim); text-decoration: none; border-bottom: 1px solid var(--border); padding-bottom: 2px; transition: color 0.15s, border-color 0.15s; }
.nav-link:hover, .nav-link.active { color: var(--amber); border-color: var(--amber); }

.page { padding: 40px; max-width: 1200px; margin: 0 auto; }
.section { margin-bottom: 64px; }
.section-title { font-family: 'Playfair Display', serif; font-size: 28px; font-weight: 700; margin-bottom: 4px; }
.section-title span { color: var(--amber); font-style: italic; }
.section-sub { font-size: 11px; color: var(--text-dim); letter-spacing: 2px; text-transform: uppercase; margin-bottom: 24px; }

/* SUMMARY */
.summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 1px; background: var(--border); border: 1px solid var(--border); margin-bottom: 56px; }
.summary-card { background: var(--surface); padding: 24px 20px; }
.summary-card .num { font-family: 'Playfair Display', serif; font-size: 40px; font-weight: 900; color: var(--amber); line-height: 1; }
.summary-card .label { font-size: 10px; letter-spacing: 2px; text-transform: uppercase; color: var(--text-dim); margin-top: 6px; }
.summary-card .sub { font-size: 11px; color: var(--text-muted); margin-top: 4px; }

/* YEAR FILTER */
.year-filter { display: flex; gap: 0; margin-bottom: 24px; flex-wrap: wrap; }
.yf-btn { padding: 8px 16px; font-family: 'Space Mono', monospace; font-size: 11px; font-weight: 700; letter-spacing: 1px; color: var(--text-dim); background: var(--surface2); border: 1px solid var(--border); border-right: none; cursor: pointer; transition: all 0.15s; white-space: nowrap; }
.yf-btn:last-child { border-right: 1px solid var(--border); }
.yf-btn:hover { color: var(--text); }
.yf-btn.active { color: var(--bg); background: var(--amber); border-color: var(--amber); }

/* ARTIST BAR CHART */
.chart-legend { display: flex; gap: 20px; margin-bottom: 20px; align-items: center; }
.legend-item { display: flex; align-items: center; gap: 8px; font-size: 11px; color: var(--text-dim); letter-spacing: 1px; }
.legend-swatch { width: 28px; height: 10px; flex-shrink: 0; }
.legend-swatch.lead { background: var(--amber); }
.legend-swatch.feat { background: var(--amber-dim); border: 1px dashed var(--amber); }

.artist-bars { display: flex; flex-direction: column; gap: 6px; }
.artist-row { display: flex; align-items: center; gap: 12px; cursor: pointer; margin: 0 -8px; padding: 2px 8px; transition: background 0.12s; } .artist-row:hover { background: var(--surface2); } .artist-row:hover .artist-name { color: var(--amber); }
.artist-rank { font-size: 10px; color: var(--text-muted); width: 20px; text-align: right; flex-shrink: 0; }
.artist-name { font-size: 12px; color: var(--text); width: 170px; flex-shrink: 0; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; transition: color 0.12s; }
.artist-bar-track { flex: 1; height: 26px; background: var(--surface2); position: relative; display: flex; overflow: hidden; cursor: default; }
.bar-lead { height: 100%; flex-shrink: 0; transition: width 0.55s cubic-bezier(.4,0,.2,1); }
.bar-feat { height: 100%; flex-shrink: 0; transition: width 0.55s cubic-bezier(.4,0,.2,1) 0.05s; }
.artist-totals { display: flex; gap: 4px; align-items: baseline; flex-shrink: 0; width: 80px; }
.total-num { font-size: 13px; font-weight: 700; color: var(--text); }
.total-breakdown { font-size: 10px; color: var(--text-muted); }

/* TOOLTIP */
.artist-bar-track { position: relative; }
.artist-bar-track:hover .bar-tooltip { display: block; }
.bar-tooltip { display: none; position: absolute; bottom: calc(100% + 6px); left: 50%; transform: translateX(-50%); background: var(--surface); border: 1px solid var(--border); padding: 8px 12px; font-size: 11px; white-space: nowrap; z-index: 100; pointer-events: none; }
.bar-tooltip .tt-lead { color: var(--amber); }
.bar-tooltip .tt-feat { color: var(--text-dim); }

/* PER YEAR GRID */
.per-year-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 1px; background: var(--border); border: 1px solid var(--border); }
.per-year-card { background: var(--surface); padding: 20px; }
.per-year-card h3 { font-size: 11px; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 14px; font-weight: 700; }
.pya-row { margin-bottom: 9px; }
.pya-top { display: flex; align-items: baseline; gap: 6px; margin-bottom: 3px; }
.pya-rank { font-size: 10px; color: var(--text-muted); width: 14px; flex-shrink: 0; }
.pya-name { font-size: 12px; color: var(--text); flex: 1; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.pya-total { font-size: 11px; font-weight: 700; flex-shrink: 0; }
.pya-bar-track { width: 100%; height: 3px; background: var(--border); display: flex; overflow: hidden; }
.pya-bar-lead { height: 100%; }
.pya-bar-feat { height: 100%; opacity: 0.45; }

/* ARTIST DEPTH */
.split-stats { display: grid; grid-template-columns: 1fr 1fr; gap: 1px; background: var(--border); border: 1px solid var(--border); }
.split-card { background: var(--surface); padding: 28px 24px; }
.split-card .big { font-family: 'Playfair Display', serif; font-size: 52px; font-weight: 900; line-height: 1; }
/* UPDATED ACCESSIBILITY */
.split-card .lbl { 
  font-size: 10px; 
  letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--text-dim);
  margin-top: 6px;
}
.split-card .desc {
  font-size: 13px;
  color: var(--text-muted);
  margin-top: 8px;
  line-height: 1.6;
}
.split-bar { margin-top: 16px; height: 4px; background: var(--border); }
.split-bar-fill { height: 100%; }

/* DECADE */
.decade-section { display: grid; grid-template-columns: 1fr 1fr; gap: 48px; }
.decade-bars { display: flex; flex-direction: column; gap: 10px; }
.decade-row { display: flex; align-items: center; gap: 12px; cursor: pointer; margin: 0 -8px; padding: 2px 8px; transition: background 0.12s; } .decade-row:hover { background: var(--surface2); } .decade-row:hover .decade-label { color: var(--amber); }
.decade-label { font-size: 12px; color: var(--text-dim); width: 64px; flex-shrink: 0; transition: color 0.12s; }
.decade-bar-wrap { flex: 1; height: 22px; background: var(--surface2); position: relative; overflow: hidden; }
.decade-bar-fill { height: 100%; position: absolute; left: 0; top: 0; transition: width 0.55s cubic-bezier(.4,0,.2,1); }
.decade-count { font-size: 11px; color: var(--text-dim); width: 36px; text-align: right; flex-shrink: 0; }
.decade-pct { font-size: 10px; color: var(--text-muted); width: 38px; text-align: right; flex-shrink: 0; }
.dby-row { display: flex; align-items: center; gap: 12px; margin-bottom: 10px; }
.dby-label { font-size: 11px; font-weight: 700; width: 80px; flex-shrink: 0; }
.dby-bar { flex: 1; height: 26px; display: flex; overflow: hidden; }
.dby-seg { height: 100%; transition: width 0.55s cubic-bezier(.4,0,.2,1); }
.decade-legend { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 16px; }
.dl-item { display: flex; align-items: center; gap: 6px; font-size: 10px; color: var(--text-dim); }
.dl-dot { width: 10px; height: 10px; flex-shrink: 0; }

@media (max-width: 900px) {
  .page { padding: 20px; } .header { padding: 24px 20px; }
  .per-year-grid { grid-template-columns: 1fr 1fr; }
  .decade-section, .split-stats { grid-template-columns: 1fr; }
  .artist-name { width: 120px; }
}
@media (max-width: 600px) { .per-year-grid { grid-template-columns: 1fr; } }

/* GENRE WHEEL */
.genre-section { display: grid; grid-template-columns: 420px 1fr; gap: 48px; align-items: start; }
.pie-wrap { position: relative; width: 360px; height: 360px; flex-shrink: 0; }
.pie-wrap svg { width: 100%; height: 100%; transform: rotate(-90deg); }
.pie-center { position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%); text-align: center; pointer-events: none; }
.pie-center-num { font-family: 'Playfair Display', serif; font-size: 36px; font-weight: 900; color: var(--amber); line-height: 1; }
.pie-center-label { font-size: 10px; letter-spacing: 2px; text-transform: uppercase; color: var(--text-dim); margin-top: 4px; }
.pie-slice { cursor: pointer; transition: opacity 0.15s; }
.pie-slice:hover { opacity: 0.82; }
.genre-list { display: flex; flex-direction: column; gap: 10px; padding-top: 8px; }
.genre-list-item { display: flex; align-items: center; gap: 12px; cursor: pointer; padding: 6px 8px; transition: background 0.12s; }
.genre-list-item:hover { background: var(--surface2); }
.genre-list-item.highlighted { background: var(--surface2); }
.genre-dot { width: 12px; height: 12px; flex-shrink: 0; border-radius: 0; }
.genre-name { font-size: 13px; color: var(--text); flex: 1; }
.genre-count { font-size: 12px; font-weight: 700; flex-shrink: 0; }
.genre-pct { font-size: 11px; color: var(--text-muted); width: 40px; text-align: right; flex-shrink: 0; }
.genre-bar-mini { flex: 1; max-width: 100px; height: 3px; background: var(--border); position: relative; overflow: hidden; }
.genre-bar-mini-fill { height: 100%; position: absolute; left: 0; }
@media (max-width: 900px) {
  .genre-section { grid-template-columns: 1fr; }
  .pie-wrap { width: 280px; height: 280px; margin: 0 auto; }
}


  /* NAV */
  .site-nav { position: sticky; top: 0; z-index: 100; display: flex; align-items: center; justify-content: space-between; padding: 0 40px; height: 56px; background: rgba(14,12,15,0.95); border-bottom: 1px solid var(--border); backdrop-filter: blur(8px); }
  .site-logo { font-family: 'Space Mono', monospace; font-size: 16px; font-weight: 700; color: var(--text); text-decoration: none; letter-spacing: 1px; }
  .site-logo span { color: var(--amber); font-style: italic; }
  .nav-links { display: flex; gap: 4px; }
  .nav-link { font-size: 11px; letter-spacing: 2px; text-transform: uppercase; color: var(--text-dim); text-decoration: none; padding: 8px 14px; transition: color 0.15s; }
  .nav-link:hover { color: var(--text); }
  .nav-link.active { color: var(--amber); }
  @media (max-width: 700px) { .site-nav { padding: 0 16px; } .nav-link { padding: 8px 8px; font-size: 10px; } }

/* BUBBLE MAP + SPECTRUM */
.bubble-container, .spectrum-container { width: 100%; background: var(--surface); border: 1px solid var(--border); overflow: hidden; }
.bubble-svg, .spectrum-svg { display: block; width: 100%; height: auto; }
.bubble-tooltip { position: fixed; pointer-events: none; background: var(--surface); border: 1px solid var(--border); padding: 10px 14px; font-size: 11px; line-height: 1.6; white-space: nowrap; z-index: 200; display: none; }
.bubble-legend { display: flex; flex-wrap: wrap; gap: 14px; margin-top: 14px; align-items: center; }
.bl-item { display: flex; align-items: center; gap: 6px; font-size: 10px; color: var(--text-dim); letter-spacing: 1px; }
.bl-dot { width: 10px; height: 10px; border-radius: 50%; flex-shrink: 0; }
</style>
</head>
<body>
<nav class="site-nav">
  <a class="site-logo" href="index.html">Daily <span>Jam</span></a>
  <div class="nav-links">
    <a class="nav-link" href="index.html">Home</a>
    <a class="nav-link" href="catalog.html">Catalog</a>
    <a class="nav-link" href="calendar.html">Calendar</a>
    <a class="nav-link active" href="stats.html">Stats</a>
    <a class="nav-link" href="shuffle.html">Shuffle</a>
    <a class="nav-link" href="games.html">Games</a>
    <a class="nav-link" href="daily-jam-links.html">Links</a>
  </div>
</nav>


<div class="header">
  <h1>Daily <span>Jam</span></h1>
  <p>Stats &amp; Insights — 8 Years of Music</p>
  
</div>

<div class="page">

  <div class="summary-grid" id="summary-grid"></div>

  <div class="section">
    <div class="section-title">Most Added <span>Artists</span></div>
    <div class="section-sub">Ranked by total appearances — lead + featured</div>
    <div class="year-filter" id="artist-year-filter">
      <button class="yf-btn active" data-year="0">All Daily Jams</button>
      <button class="yf-btn" data-year="1" style="color:var(--y1)">Daily Jam 1</button>
      <button class="yf-btn" data-year="2" style="color:var(--y2)">Daily Jam 2</button>
      <button class="yf-btn" data-year="3" style="color:var(--y3)">Daily Jam 3</button>
      <button class="yf-btn" data-year="4" style="color:var(--y4)">Daily Jam 4</button>
      <button class="yf-btn" data-year="5" style="color:var(--y5)">Daily Jam 5</button>
      <button class="yf-btn" data-year="6" style="color:var(--y6)">Daily Jam 6</button>
      <button class="yf-btn" data-year="7" style="color:var(--y7)">Daily Jam 7</button>
      <button class="yf-btn" data-year="8" style="color:var(--y8)">Daily Jam 8</button>
    </div>
    <div class="chart-legend">
      <div class="legend-item"><div class="legend-swatch lead" id="legend-lead-swatch"></div><span id="legend-lead-text">Lead artist</span></div>
      <div class="legend-item"><div class="legend-swatch feat" id="legend-feat-swatch"></div><span>Featured / collab</span></div>
    </div>
    <div class="artist-bars" id="artist-bars"></div>
  </div>

  <div class="section">
    <div class="section-title">Top Artists <span>Per Year</span></div>
    <div class="section-sub">Top 5 per Daily Jam playlist — solid = lead, faded = featured</div>
    <div class="per-year-grid" id="per-year-grid"></div>
  </div>

  <div class="section">
    <div class="section-title">Artist <span>Depth</span></div>
    <div class="section-sub">One-time adds vs. artists you kept coming back to</div>
    <div class="split-stats" id="split-stats"></div>
  </div>

  <div class="section">
    <div class="section-title">Decade <span>Breakdown</span></div>
    <div class="section-sub">When were the songs you added originally released?</div>
    <div class="year-filter" id="decade-year-filter">
      <button class="yf-btn active" data-year="0">All Daily Jams</button>
      <button class="yf-btn" data-year="1" style="color:var(--y1)">Daily Jam 1</button>
      <button class="yf-btn" data-year="2" style="color:var(--y2)">Daily Jam 2</button>
      <button class="yf-btn" data-year="3" style="color:var(--y3)">Daily Jam 3</button>
      <button class="yf-btn" data-year="4" style="color:var(--y4)">Daily Jam 4</button>
      <button class="yf-btn" data-year="5" style="color:var(--y5)">Daily Jam 5</button>
      <button class="yf-btn" data-year="6" style="color:var(--y6)">Daily Jam 6</button>
      <button class="yf-btn" data-year="7" style="color:var(--y7)">Daily Jam 7</button>
      <button class="yf-btn" data-year="8" style="color:var(--y8)">Daily Jam 8</button>
    </div>
    <div class="decade-section">
      <div><div class="decade-bars" id="decade-bars"></div></div>
      <div>
        <div style="font-size:10px;letter-spacing:2px;text-transform:uppercase;color:var(--text-muted);margin-bottom:16px">Decade mix across each playlist</div>
        <div id="decade-by-year"></div>
        <div class="decade-legend" id="decade-legend"></div>
      </div>
    </div>
  </div>


  <div class="section">
    <div class="section-title">Genre <span>Wheel</span></div>
    <div class="section-sub">Based on Spotify genre tags — hover to explore · genre data is per-playlist, not per-song</div>
    <div id="genre-note" style="display:none;margin-bottom:16px;padding:10px 14px;background:var(--surface2);border:1px solid var(--border);font-size:11px;color:var(--text-dim);letter-spacing:1px;">Genre data is aggregated at the playlist level — individual songs don't have genre tags in the catalog. Use <strong style="color:var(--amber)">Most Added Artists</strong> above to browse by artist instead. <span onclick="document.getElementById('genre-note').style.display='none'" style="cursor:pointer;color:var(--amber);float:right">✕</span></div>
    <div class="year-filter" id="genre-year-filter">
      <button class="yf-btn active" data-year="0">All Daily Jams</button>
      <button class="yf-btn" data-year="1" style="color:var(--y1)">Daily Jam 1</button>
      <button class="yf-btn" data-year="2" style="color:var(--y2)">Daily Jam 2</button>
      <button class="yf-btn" data-year="3" style="color:var(--y3)">Daily Jam 3</button>
      <button class="yf-btn" data-year="4" style="color:var(--y4)">Daily Jam 4</button>
      <button class="yf-btn" data-year="5" style="color:var(--y5)">Daily Jam 5</button>
      <button class="yf-btn" data-year="6" style="color:var(--y6)">Daily Jam 6</button>
      <button class="yf-btn" data-year="7" style="color:var(--y7)">Daily Jam 7</button>
      <button class="yf-btn" data-year="8" style="color:var(--y8)">Daily Jam 8</button>
    </div>
    <div class="genre-section">
      <div class="pie-wrap">
        <svg viewBox="0 0 200 200" id="genre-pie"></svg>
        <div class="pie-center">
          <div class="pie-center-num" id="pie-center-num">—</div>
          <div class="pie-center-label" id="pie-center-label">songs tagged</div>
        </div>
      </div>
      <div class="genre-list" id="genre-list"></div>
    </div>
  </div>

  <div class="section">
    <div class="section-title">Artist <span>Bubble Map</span></div>
    <div class="section-sub">Each bubble = one artist · size = total songs · colored by popularity tier · click any bubble to browse catalog</div>
    <div class="bubble-container">
      <svg id="bubble-svg" class="bubble-svg"></svg>
    </div>
    <div id="bubble-tooltip" class="bubble-tooltip"></div>
    <div class="bubble-legend">
      <div style="font-size:10px;color:var(--text-muted);letter-spacing:1px;width:100%;margin-bottom:2px">COLOR = AVG SPOTIFY POPULARITY TIER</div>
      <div class="bl-item"><div class="bl-dot" style="background:#6b5b95"></div>Underground (0–20)</div>
      <div class="bl-item"><div class="bl-dot" style="background:#5d8fe8"></div>Cult (20–40)</div>
      <div class="bl-item"><div class="bl-dot" style="background:#5dba7f"></div>Rising (40–55)</div>
      <div class="bl-item"><div class="bl-dot" style="background:#e8a45d"></div>Known (55–70)</div>
      <div class="bl-item"><div class="bl-dot" style="background:#e85d8f"></div>Popular (70–82)</div>
      <div class="bl-item"><div class="bl-dot" style="background:#FF6B6B"></div>Mainstream (82+)</div>
      <div class="bl-item"><div class="bl-dot" style="background:#6a6460"></div>No data</div>
    </div>
  </div>

  <div class="section">
    <div class="section-title">Underground <span>→ Mainstream</span></div>
    <div class="section-sub">Avg Spotify track popularity (0–100) · X = how niche vs. mainstream · Y = how many songs you added · hover any dot</div>
    <div class="spectrum-container">
      <svg id="spectrum-svg" class="spectrum-svg"></svg>
    </div>
    <div id="spectrum-tooltip" class="bubble-tooltip"></div>
  </div>

</div>

<script>
const STATS = {"topArtists": [["Mac Miller", 60, 6], ["Drake", 30, 7], ["Joji", 22, 4], ["Dominic Fike", 21, 3], ["The Weeknd", 18, 5], ["Ariana Grande", 20, 3], ["SZA", 19, 3], ["Kanye West", 18, 4], ["Tyler, The Creator", 18, 3], ["Omar Apollo", 18, 1], ["The Kid LAROI", 18, 1], ["Billie Eilish", 19, 0], ["Rex Orange County", 19, 0], ["Post Malone", 18, 0], ["Travis Scott", 9, 9], ["Harry Styles", 18, 0], ["Anderson .Paak", 6, 12], ["Tame Impala", 17, 1], ["Dua Lipa", 13, 4], ["beabadoobee", 17, 0]], "topPerYear": {"1": [["Ariana Grande", 11, 0], ["AJR", 8, 1], ["Jon Bellion", 8, 1], ["Billie Eilish", 9, 0], ["Post Malone", 8, 0], ["Mac Miller", 8, 0], ["Khalid", 6, 2], ["Joji", 4, 4], ["Hoodie Allen", 7, 0], ["Rex Orange County", 7, 0]], "2": [["Drake", 3, 5], ["Lil Baby", 2, 5], ["Audrey Mika", 6, 1], ["Dominic Fike", 6, 0], ["The Weeknd", 6, 0], ["J. Cole", 4, 2], ["Jeremy Zucker", 5, 0], ["Oliver Tree", 4, 1], ["Quinn XCII", 5, 0], ["Young Thug", 3, 2]], "3": [["Lil Nas X", 11, 0], ["The Kid LAROI", 10, 0], ["Kanye West", 7, 1], ["Kid Cudi", 7, 1], ["Mac Miller", 8, 0], ["ROLE MODEL", 7, 0], ["Clairo", 6, 0], ["Drake", 5, 1], ["Doja Cat", 4, 1], ["Jack Harlow", 3, 1]], "4": [["Mac Miller", 18, 2], ["Djo", 8, 0], ["Rex Orange County", 7, 0], ["Harry Styles", 7, 0], ["Kanye West", 5, 2], ["Weston Estate", 7, 0], ["Remi Wolf", 5, 2], ["Yellow Days", 6, 0], ["Diplo", 4, 2], ["SEB", 6, 0]], "5": [["Dominic Fike", 12, 1], ["Mac Miller", 10, 3], ["SZA", 9, 0], ["Drake", 8, 0], ["Ariana Grande", 5, 1], ["Omar Apollo", 6, 0], ["The Weeknd", 3, 2], ["Zach Bryan", 5, 0], ["Teezo Touchdown", 4, 1], ["21 Savage", 0, 5]], "6": [["beabadoobee", 12, 0], ["Drake", 9, 0], ["The Kid LAROI", 7, 1], ["Dua Lipa", 7, 0], ["Remi Wolf", 7, 0], ["Sabrina Carpenter", 6, 0], ["Fred again..", 6, 0], ["SZA", 4, 2], ["Mac Miller", 5, 0], ["Lyn Lapid", 5, 0]], "7": [["Tyler, The Creator", 8, 0], ["Jean Dawson", 7, 0], ["Sabrina Carpenter", 7, 0], ["Bad Bunny", 6, 1], ["Djo", 5, 0], ["The Two Lips", 5, 0], ["SZA", 5, 0], ["Smino", 4, 1], ["The Marías", 3, 2], ["keshi", 4, 0]], "8": [["Tame Impala", 6, 0], ["Daniel Caesar", 5, 0], ["Mac Miller", 3, 1], ["Harry Styles", 3, 0], ["Joji", 3, 0], ["Labi Siffre", 3, 0], ["sombr", 2, 0], ["Alemeda", 2, 0], ["Dogpark", 2, 0], ["Tiffany Day", 2, 0]]}, "decadeAll": {"pre-60s": 4, "1960s": 14, "1970s": 33, "1980s": 16, "1990s": 49, "2000s": 114, "2010s": 929, "2020s": 1512}, "decadePerYear": {"1": {"pre-60s": 3, "1960s": 1, "1970s": 4, "1980s": 2, "1990s": 12, "2000s": 19, "2010s": 324, "2020s": 0}, "2": {"pre-60s": 0, "1960s": 2, "1970s": 4, "1980s": 4, "1990s": 3, "2000s": 18, "2010s": 245, "2020s": 89}, "3": {"pre-60s": 0, "1960s": 2, "1970s": 7, "1980s": 2, "1990s": 8, "2000s": 23, "2010s": 132, "2020s": 191}, "4": {"pre-60s": 0, "1960s": 0, "1970s": 5, "1980s": 1, "1990s": 5, "2000s": 15, "2010s": 92, "2020s": 247}, "5": {"pre-60s": 1, "1960s": 3, "1970s": 5, "1980s": 1, "1990s": 6, "2000s": 8, "2010s": 72, "2020s": 269}, "6": {"pre-60s": 0, "1960s": 1, "1970s": 3, "1980s": 1, "1990s": 4, "2000s": 10, "2010s": 37, "2020s": 309}, "7": {"pre-60s": 0, "1960s": 4, "1970s": 3, "1980s": 3, "1990s": 9, "2000s": 17, "2010s": 15, "2020s": 314}, "8": {"pre-60s": 0, "1960s": 1, "1970s": 2, "1980s": 2, "1990s": 2, "2000s": 4, "2010s": 12, "2020s": 93}}, "oneHit": 1256, "multiArtist": 339, "totalArtists": 1595, "totalSongs": 2671, "genreAll": {"Hip-Hop / Rap": 708, "Pop": 384, "R&B / Soul": 560, "Indie / Alt": 655, "Electronic": 195, "Rock / Metal": 55, "Country": 37, "Latin": 4, "Christmas": 34, "Other": 39}, "genrePerYear": {"1": {"Hip-Hop / Rap": 123, "Pop": 44, "R&B / Soul": 54, "Indie / Alt": 55, "Electronic": 51, "Rock / Metal": 9, "Country": 5, "Latin": 1, "Christmas": 18, "Other": 5}, "2": {"Hip-Hop / Rap": 136, "Pop": 31, "R&B / Soul": 70, "Indie / Alt": 79, "Electronic": 30, "Rock / Metal": 10, "Country": 3, "Latin": 0, "Christmas": 1, "Other": 5}, "3": {"Hip-Hop / Rap": 111, "Pop": 51, "R&B / Soul": 57, "Indie / Alt": 111, "Electronic": 19, "Rock / Metal": 9, "Country": 6, "Latin": 0, "Christmas": 0, "Other": 1}, "4": {"Hip-Hop / Rap": 93, "Pop": 48, "R&B / Soul": 80, "Indie / Alt": 103, "Electronic": 26, "Rock / Metal": 7, "Country": 0, "Latin": 0, "Christmas": 6, "Other": 2}, "5": {"Hip-Hop / Rap": 89, "Pop": 49, "R&B / Soul": 98, "Indie / Alt": 82, "Electronic": 12, "Rock / Metal": 2, "Country": 10, "Latin": 3, "Christmas": 4, "Other": 16}, "6": {"Hip-Hop / Rap": 88, "Pop": 77, "R&B / Soul": 68, "Indie / Alt": 80, "Electronic": 31, "Rock / Metal": 7, "Country": 9, "Latin": 0, "Christmas": 3, "Other": 2}, "7": {"Hip-Hop / Rap": 54, "Pop": 74, "R&B / Soul": 91, "Indie / Alt": 108, "Electronic": 20, "Rock / Metal": 7, "Country": 4, "Latin": 0, "Christmas": 2, "Other": 5}, "8": {"Hip-Hop / Rap": 14, "Pop": 10, "R&B / Soul": 42, "Indie / Alt": 37, "Electronic": 6, "Rock / Metal": 4, "Country": 0, "Latin": 0, "Christmas": 0, "Other": 3}}};

const YEAR_COLORS = ['','#5d8fe8','#5dba7f','#e85d8f','#e8a45d','#a45de8','#5de8e8','#e8e85d','#FF6B6B'];
const YEAR_LABELS = ['','2018–19','2019–20','2020–21','2021–22','2022–23','2023–24','2024–25','2025–26'];
const DECADE_ORDER = ['pre-60s','1960s','1970s','1980s','1990s','2000s','2010s','2020s'];
const DECADE_COLORS = ['#6b5b95','#88b04b','#f7cac9','#92a8d1','#f5a623','#5d8fe8','#e85d8f','#5dba7f'];

// Helper: hex to rgba
function hexAlpha(hex, a) {
  const r = parseInt(hex.slice(1,3),16), g = parseInt(hex.slice(3,5),16), b = parseInt(hex.slice(5,7),16);
  return `rgba(${r},${g},${b},${a})`;
}

// SUMMARY
const topArtist = STATS.topArtists[0];
const summaryData = [
  { num: STATS.totalSongs.toLocaleString(), label: 'Total Songs', sub: 'Days of music' },
  { num: STATS.totalArtists.toLocaleString(), label: 'Unique Artists', sub: 'Lead artists' },
  { num: '8', label: 'Years Running', sub: 'Sept 2018 → now' },
  { num: topArtist[1]+topArtist[2], label: 'Top Artist', sub: `${topArtist[0]} (${topArtist[1]} lead + ${topArtist[2]} feat)` },
  { num: STATS.oneHit.toLocaleString(), label: 'One-Time Artists', sub: 'Added just once' },
  { num: STATS.multiArtist.toLocaleString(), label: 'Repeat Artists', sub: 'Added 2+ times' },
];
document.getElementById('summary-grid').innerHTML = summaryData.map(s =>
  `<div class="summary-card"><div class="num">${s.num}</div><div class="label">${s.label}</div><div class="sub">${s.sub}</div></div>`
).join('');

// ARTIST BARS
let artistYear = 0;

function renderArtistBars() {
  const data = artistYear === 0
    ? STATS.topArtists.slice(0, 20)
    : STATS.topPerYear[String(artistYear)].slice(0, 15);

  const color = artistYear === 0 ? '#f5a623' : YEAR_COLORS[artistYear];
  const colorFeat = hexAlpha(color.startsWith('rgba') ? '#f5a623' : color, 0.32);

  // Update legend swatch colors
  document.getElementById('legend-lead-swatch').style.background = color;
  document.getElementById('legend-feat-swatch').style.background = colorFeat;
  document.getElementById('legend-feat-swatch').style.borderColor = color;

  const maxTotal = data[0][1] + data[0][2];

  document.getElementById('artist-bars').innerHTML = data.map(([name, lead, feat], i) => {
    const total = lead + feat;
    const leadW = (lead / maxTotal * 100).toFixed(1);
    const featW = (feat / maxTotal * 100).toFixed(1);
    const breakdown = feat > 0 ? `${lead} lead · ${feat} feat` : `${lead} songs`;
    return `<div class="artist-row" data-artist="${name}">
      <div class="artist-rank">${i+1}</div>
      <div class="artist-name" title="${name}">${name}</div>
      <div class="artist-bar-track">
        <div class="bar-lead" style="width:${leadW}%;background:${color}"></div>
        <div class="bar-feat" style="width:${featW}%;background:${colorFeat};border-left:${feat>0?'1px dashed '+color:'none'}"></div>
        <div class="bar-tooltip">
          <div class="tt-lead">▮ ${lead} as lead artist</div>
          ${feat > 0 ? `<div class="tt-feat">▯ ${feat} as featured / collab</div>` : ''}
          <div style="margin-top:4px;color:#e8e0d0;font-weight:700">${total} total</div>
        </div>
      </div>
      <div class="artist-totals">
        <div class="total-num">${total}</div>
        ${feat > 0 ? `<div class="total-breakdown">(${lead}+${feat})</div>` : ''}
      </div>
    </div>`;
  }).join('');
}
renderArtistBars();

document.getElementById('artist-bars').addEventListener('click', function(e) {
  const row = e.target.closest('.artist-row[data-artist]');
  if (row) window.location.href = 'catalog.html?search=' + encodeURIComponent(row.dataset.artist);
});

document.querySelectorAll('#artist-year-filter .yf-btn').forEach(btn => {
  btn.addEventListener('click', function() {
    document.querySelectorAll('#artist-year-filter .yf-btn').forEach(b => b.classList.remove('active'));
    this.classList.add('active');
    artistYear = parseInt(this.dataset.year);
    renderArtistBars();
  });
});

// PER YEAR GRID
document.getElementById('per-year-grid').innerHTML = Object.entries(STATS.topPerYear).map(([yr, artists]) => {
  const top5 = artists.slice(0,5);
  const color = YEAR_COLORS[parseInt(yr)];
  const maxTotal = top5[0] ? top5[0][1] + top5[0][2] : 1;
  return `<div class="per-year-card">
    <h3 style="color:${color}">Daily Jam ${yr} · ${YEAR_LABELS[parseInt(yr)]}</h3>
    ${top5.map(([name, lead, feat], i) => {
      const total = lead + feat;
      const leadPct = (lead/maxTotal*100).toFixed(0);
      const featPct = (feat/maxTotal*100).toFixed(0);
      return `<div class="pya-row">
        <div class="pya-top">
          <div class="pya-rank">${i+1}</div>
          <div class="pya-name" title="${name}">${name}</div>
          <div class="pya-total" style="color:${color}">${total}${feat>0?`<span style="color:var(--text-muted);font-size:9px"> (${lead}+${feat})</span>`:''}</div>
        </div>
        <div class="pya-bar-track">
          <div class="pya-bar-lead" style="width:${leadPct}%;background:${color}"></div>
          <div class="pya-bar-feat" style="width:${featPct}%;background:${color}"></div>
        </div>
      </div>`;
    }).join('')}
  </div>`;
}).join('');

// ARTIST DEPTH
const totalArtists = STATS.oneHit + STATS.multiArtist;
const oneHitPct = Math.round(STATS.oneHit / totalArtists * 100);
document.getElementById('split-stats').innerHTML = `
  <div class="split-card">
    <div class="big" style="color:var(--text-dim)">${STATS.oneHit.toLocaleString()}</div>
    <div class="lbl">One-Time Artists</div>
    <div class="desc">${oneHitPct}% of all artists — added once and never again. Every one a deliberate choice.</div>
    <div class="split-bar"><div class="split-bar-fill" style="width:${oneHitPct}%;background:var(--text-muted)"></div></div>
  </div>
  <div class="split-card">
    <div class="big" style="color:var(--amber)">${STATS.multiArtist.toLocaleString()}</div>
    <div class="lbl">Repeat Artists</div>
    <div class="desc">${100-oneHitPct}% of artists added 2+ times. Led by <strong>${STATS.topArtists[0][0]}</strong> with ${STATS.topArtists[0][1]+STATS.topArtists[0][2]} total appearances (${STATS.topArtists[0][1]} lead, ${STATS.topArtists[0][2]} featured).</div>
    <div class="split-bar"><div class="split-bar-fill" style="width:${100-oneHitPct}%;background:var(--amber)"></div></div>
  </div>`;

// DECADE BARS
let decadeYear = 0;
function renderDecadeBars() {
  const raw = decadeYear === 0 ? STATS.decadeAll : STATS.decadePerYear[String(decadeYear)];
  const total = Object.values(raw).reduce((a,b)=>a+b,0);
  const max = Math.max(...Object.values(raw));
  document.getElementById('decade-bars').innerHTML = DECADE_ORDER.map((d, i) => {
    const count = raw[d] || 0;
    const pct = total ? (count/total*100).toFixed(1) : 0;
    return `<div class="decade-row" data-decade="${d}">
      <div class="decade-label">${d}</div>
      <div class="decade-bar-wrap"><div class="decade-bar-fill" style="width:${max?(count/max*100).toFixed(1):0}%;background:${DECADE_COLORS[i]}"></div></div>
      <div class="decade-count">${count.toLocaleString()}</div>
      <div class="decade-pct">${pct}%</div>
    </div>`;
  }).join('');
}
renderDecadeBars();

document.getElementById('decade-bars').addEventListener('click', function(e) {
  const row = e.target.closest('.decade-row[data-decade]');
  if (row) window.location.href = 'catalog.html?decade=' + encodeURIComponent(row.dataset.decade);
});

document.querySelectorAll('#decade-year-filter .yf-btn').forEach(btn => {
  btn.addEventListener('click', function() {
    document.querySelectorAll('#decade-year-filter .yf-btn').forEach(b => b.classList.remove('active'));
    this.classList.add('active');
    decadeYear = parseInt(this.dataset.year);
    renderDecadeBars();
  });
});

// DECADE BY YEAR stacked
document.getElementById('decade-by-year').innerHTML = Object.entries(STATS.decadePerYear).map(([yr, decades]) => {
  const total = Object.values(decades).reduce((a,b)=>a+b,0);
  const color = YEAR_COLORS[parseInt(yr)];
  const segs = DECADE_ORDER.map((d, i) => {
    const count = decades[d] || 0;
    const w = total ? (count/total*100).toFixed(1) : 0;
    return `<div class="dby-seg" style="width:${w}%;background:${DECADE_COLORS[i]}" title="${d}: ${count} songs (${w}%)"></div>`;
  }).join('');
  return `<div class="dby-row"><div class="dby-label" style="color:${color}">Daily Jam ${yr}</div><div class="dby-bar">${segs}</div></div>`;
}).join('');

document.getElementById('decade-legend').innerHTML = DECADE_ORDER.map((d, i) =>
  `<div class="dl-item"><div class="dl-dot" style="background:${DECADE_COLORS[i]}"></div>${d}</div>`
).join('');

// GENRE WHEEL
const GENRE_COLORS = {
  'Hip-Hop / Rap': '#e8a45d',
  'Pop':           '#e85d8f',
  'R&B / Soul':    '#5dba7f',
  'Indie / Alt':   '#5d8fe8',
  'Electronic':    '#5de8e8',
  'Rock / Metal':  '#e8a45d',
  'Country':       '#88b04b',
  'Latin':         '#a45de8',
  'Christmas':     '#e85d4a',
  'Other':          '#3a3530',
};
const GENRE_ORDER = ['Hip-Hop / Rap','Pop','R&B / Soul','Indie / Alt','Electronic','Rock / Metal','Country','Latin','Christmas','Other'];

let genreYear = 0;

function renderGenreWheel() {
  const raw = genreYear === 0 ? STATS.genreAll : (STATS.genrePerYear[String(genreYear)] || {});
  const data = GENRE_ORDER.map(g => ({ name: g, count: raw[g] || 0, color: GENRE_COLORS[g] }))
                           .filter(d => d.count > 0)
                           .sort((a,b) => b.count - a.count);
  const total = data.reduce((s, d) => s + d.count, 0);

  document.getElementById('pie-center-num').textContent = total.toLocaleString();
  document.getElementById('pie-center-label').textContent = 'songs tagged';

  // Draw SVG pie
  const svg = document.getElementById('genre-pie');
  svg.innerHTML = '';
  const cx = 100, cy = 100, r = 88, innerR = 52;
  let startAngle = 0;
  const GAP = 0.012; // radians gap between slices

  data.forEach((d, idx) => {
    const slice = (d.count / total) * (Math.PI * 2);
    const endAngle = startAngle + slice - GAP;
    const x1 = cx + r * Math.cos(startAngle + GAP/2);
    const y1 = cy + r * Math.sin(startAngle + GAP/2);
    const x2 = cx + r * Math.cos(endAngle);
    const y2 = cy + r * Math.sin(endAngle);
    const ix1 = cx + innerR * Math.cos(startAngle + GAP/2);
    const iy1 = cy + innerR * Math.sin(startAngle + GAP/2);
    const ix2 = cx + innerR * Math.cos(endAngle);
    const iy2 = cy + innerR * Math.sin(endAngle);
    const large = slice > Math.PI ? 1 : 0;

    const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
    path.setAttribute('d', `M ${ix1} ${iy1} L ${x1} ${y1} A ${r} ${r} 0 ${large} 1 ${x2} ${y2} L ${ix2} ${iy2} A ${innerR} ${innerR} 0 ${large} 0 ${ix1} ${iy1} Z`);
    path.setAttribute('fill', d.color);
    path.setAttribute('class', 'pie-slice');
    path.setAttribute('data-idx', idx);
    path.addEventListener('mouseenter', () => highlightGenre(idx, d, total));
    path.addEventListener('mouseleave', () => unhighlightGenre());
    svg.appendChild(path);
    startAngle += slice;
  });

  // List
  const maxCount = data[0]?.count || 1;
  // Store current data globally so list hover can reference it safely
  window._genreData = data;
  window._genreTotal = total;

  document.getElementById('genre-list').innerHTML = data.map((d, idx) => `
    <div class="genre-list-item" data-idx="${idx}">
      <div class="genre-dot" style="background:${d.color}"></div>
      <div class="genre-name">${d.name}</div>
      <div class="genre-bar-mini"><div class="genre-bar-mini-fill" style="width:${(d.count/maxCount*100).toFixed(0)}%;background:${d.color}"></div></div>
      <div class="genre-count" style="color:${d.color}">${d.count}</div>
      <div class="genre-pct">${(d.count/total*100).toFixed(1)}%</div>
    </div>`).join('');

  document.querySelectorAll('.genre-list-item').forEach(el => {
    el.addEventListener('mouseenter', () => {
      const idx = parseInt(el.dataset.idx);
      highlightGenre(idx, window._genreData[idx], window._genreTotal);
    });
    el.addEventListener('mouseleave', unhighlightGenre);
    el.addEventListener('click', () => {
      document.getElementById('genre-note').style.display = 'block';
    });
  });
}

function highlightGenre(idx, d, total) {
  document.querySelectorAll('.pie-slice').forEach((p, i) => {
    p.style.opacity = i === idx ? '1' : '0.35';
  });
  document.querySelectorAll('.genre-list-item').forEach((el, i) => {
    el.classList.toggle('highlighted', i === idx);
  });
  document.getElementById('pie-center-num').textContent = d.count;
  document.getElementById('pie-center-label').textContent = d.name;
}

function unhighlightGenre() {
  document.querySelectorAll('.pie-slice').forEach(p => p.style.opacity = '1');
  document.querySelectorAll('.genre-list-item').forEach(el => el.classList.remove('highlighted'));
  const raw = genreYear === 0 ? STATS.genreAll : (STATS.genrePerYear[String(genreYear)] || {});
  const total = Object.values(raw).reduce((a,b)=>a+b,0);
  document.getElementById('pie-center-num').textContent = total.toLocaleString();
  document.getElementById('pie-center-label').textContent = 'songs tagged';
}

document.querySelectorAll('#genre-year-filter .yf-btn').forEach(btn => {
  btn.addEventListener('click', function() {
    document.querySelectorAll('#genre-year-filter .yf-btn').forEach(b => b.classList.remove('active'));
    this.classList.add('active');
    genreYear = parseInt(this.dataset.year);
    renderGenreWheel();
  });
});

renderGenreWheel();

// ============================================================
// ARTIST BUBBLE MAP + UNDERGROUND → MAINSTREAM SPECTRUM
// ============================================================

const POP_TIERS = [
  { min: 0,   max: 20,  label: 'Underground', color: '#6b5b95' },
  { min: 20,  max: 40,  label: 'Cult',        color: '#5d8fe8' },
  { min: 40,  max: 55,  label: 'Rising',      color: '#5dba7f' },
  { min: 55,  max: 70,  label: 'Known',       color: '#e8a45d' },
  { min: 70,  max: 82,  label: 'Popular',     color: '#e85d8f' },
  { min: 82,  max: 101, label: 'Mainstream',  color: '#FF6B6B' },
];

function popTierColor(avgPop) {
  if (avgPop === null || avgPop === undefined) return '#6a6460';
  for (const t of POP_TIERS) { if (avgPop < t.max) return t.color; }
  return '#FF6B6B';
}

function popTierInfo(avgPop) {
  if (avgPop === null) return null;
  for (const t of POP_TIERS) { if (avgPop < t.max) return t; }
  return POP_TIERS[POP_TIERS.length - 1];
}

// Pre-computed artist data (487 artists with 2+ songs, sorted by total desc)
// Fields: n=name, l=lead, f=feat, t=total, p=avgSpotifyPopularity
const ARTIST_DATA = [{"n":"Mac Miller","l":60,"f":6,"t":66,"p":54},{"n":"Drake","l":30,"f":7,"t":37,"p":65},{"n":"Joji","l":22,"f":4,"t":26,"p":30},{"n":"Dominic Fike","l":21,"f":3,"t":24,"p":58},{"n":"Ariana Grande","l":20,"f":3,"t":23,"p":62},{"n":"The Weeknd","l":18,"f":5,"t":23,"p":55},{"n":"SZA","l":19,"f":3,"t":22,"p":66},{"n":"Kanye West","l":18,"f":4,"t":22,"p":62},{"n":"Tyler, The Creator","l":18,"f":3,"t":21,"p":69},{"n":"Billie Eilish","l":19,"f":0,"t":19,"p":79},{"n":"Rex Orange County","l":19,"f":0,"t":19,"p":37},{"n":"Omar Apollo","l":18,"f":1,"t":19,"p":48},{"n":"The Kid LAROI","l":18,"f":1,"t":19,"p":48},{"n":"Travis Scott","l":9,"f":9,"t":18,"p":66},{"n":"Harry Styles","l":18,"f":0,"t":18,"p":62},{"n":"Anderson .Paak","l":6,"f":12,"t":18,"p":48},{"n":"Tame Impala","l":17,"f":1,"t":18,"p":69},{"n":"Audrey Mika","l":17,"f":1,"t":18,"p":24},{"n":"Post Malone","l":18,"f":0,"t":18,"p":46},{"n":"Remi Wolf","l":14,"f":3,"t":17,"p":43},{"n":"beabadoobee","l":17,"f":0,"t":17,"p":51},{"n":"Dua Lipa","l":13,"f":4,"t":17,"p":60},{"n":"Lil Nas X","l":16,"f":0,"t":16,"p":45},{"n":"Djo","l":15,"f":0,"t":15,"p":63},{"n":"Daniel Caesar","l":11,"f":4,"t":15,"p":38},{"n":"Kendrick Lamar","l":9,"f":5,"t":14,"p":71},{"n":"Sabrina Carpenter","l":14,"f":0,"t":14,"p":72},{"n":"J. Cole","l":9,"f":4,"t":13,"p":59},{"n":"Kid Cudi","l":11,"f":2,"t":13,"p":52},{"n":"Frank Ocean","l":12,"f":1,"t":13,"p":78},{"n":"Kelly Clarkson","l":12,"f":0,"t":12,"p":55},{"n":"Oliver Tree","l":11,"f":1,"t":12,"p":44},{"n":"Childish Gambino","l":11,"f":1,"t":12,"p":30},{"n":"Weston Estate","l":12,"f":0,"t":12,"p":43},{"n":"Lil Yachty","l":5,"f":7,"t":12,"p":54},{"n":"Jean Dawson","l":12,"f":0,"t":12,"p":42},{"n":"Big Sean","l":5,"f":6,"t":11,"p":54},{"n":"Doja Cat","l":8,"f":3,"t":11,"p":63},{"n":"Clairo","l":10,"f":1,"t":11,"p":33},{"n":"21 Savage","l":5,"f":6,"t":11,"p":51},{"n":"A$AP Rocky","l":5,"f":6,"t":11,"p":63},{"n":"Baby Keem","l":9,"f":2,"t":11,"p":66},{"n":"Bruno Mars","l":10,"f":1,"t":11,"p":63},{"n":"Jack Harlow","l":9,"f":2,"t":11,"p":61},{"n":"Diplo","l":6,"f":4,"t":10,"p":57},{"n":"Kyle Lux","l":9,"f":1,"t":10,"p":16},{"n":"Jeremy Zucker","l":10,"f":0,"t":10,"p":43},{"n":"AJR","l":9,"f":1,"t":10,"p":20},{"n":"Juice WRLD","l":6,"f":4,"t":10,"p":33},{"n":"Justin Bieber","l":6,"f":4,"t":10,"p":72},{"n":"Khalid","l":7,"f":3,"t":10,"p":63},{"n":"Quinn XCII","l":7,"f":2,"t":9,"p":45},{"n":"Bad Bunny","l":8,"f":1,"t":9,"p":85},{"n":"Skizzy Mars","l":9,"f":0,"t":9,"p":20},{"n":"DaBaby","l":4,"f":5,"t":9,"p":58},{"n":"The Mar\u00edas","l":7,"f":2,"t":9,"p":62},{"n":"ROLE MODEL","l":9,"f":0,"t":9,"p":44},{"n":"Amin\u00e9","l":7,"f":2,"t":9,"p":48},{"n":"Olivia Rodrigo","l":9,"f":0,"t":9,"p":62},{"n":"Tiffany Day","l":8,"f":1,"t":9,"p":39},{"n":"Jon Bellion","l":8,"f":1,"t":9,"p":40},{"n":"Miguel","l":2,"f":6,"t":8,"p":67},{"n":"Future","l":3,"f":5,"t":8,"p":53},{"n":"Labi Siffre","l":8,"f":0,"t":8,"p":53},{"n":"Young Thug","l":3,"f":5,"t":8,"p":53},{"n":"Jaden","l":8,"f":0,"t":8,"p":43},{"n":"Gracie Abrams","l":8,"f":0,"t":8,"p":44},{"n":"PinkPantheress","l":7,"f":1,"t":8,"p":61},{"n":"Isaiah Rashad","l":7,"f":1,"t":8,"p":53},{"n":"$NOT","l":7,"f":1,"t":8,"p":46},{"n":"blackbear","l":5,"f":3,"t":8,"p":46},{"n":"Lil Baby","l":2,"f":5,"t":7,"p":61},{"n":"Malcolm Todd","l":7,"f":0,"t":7,"p":69},{"n":"Kali Uchis","l":5,"f":2,"t":7,"p":51},{"n":"Hoodie Allen","l":7,"f":0,"t":7,"p":15},{"n":"Rich Brian","l":5,"f":2,"t":7,"p":56},{"n":"Calvin Harris","l":7,"f":0,"t":7,"p":66},{"n":"Mustard","l":5,"f":2,"t":7,"p":58},{"n":"070 Shake","l":6,"f":1,"t":7,"p":42},{"n":"Pitbull","l":6,"f":1,"t":7,"p":70},{"n":"Montell Fish","l":6,"f":1,"t":7,"p":54},{"n":"Laufey","l":6,"f":1,"t":7,"p":68},{"n":"Fred again..","l":7,"f":0,"t":7,"p":67},{"n":"Teezo Touchdown","l":5,"f":2,"t":7,"p":38},{"n":"Lil Uzi Vert","l":6,"f":1,"t":7,"p":64},{"n":"Don Toliver","l":5,"f":2,"t":7,"p":64},{"n":"SEB","l":7,"f":0,"t":7,"p":12},{"n":"John Mayer","l":6,"f":0,"t":6,"p":46},{"n":"Steve Lacy","l":6,"f":0,"t":6,"p":58},{"n":"Yellow Days","l":6,"f":0,"t":6,"p":26},{"n":"keshi","l":6,"f":0,"t":6,"p":62},{"n":"Bazzi","l":6,"f":0,"t":6,"p":44},{"n":"Peach Pit","l":6,"f":0,"t":6,"p":41},{"n":"The Two Lips","l":6,"f":0,"t":6,"p":44},{"n":"Silk Sonic","l":0,"f":6,"t":6,"p":26},{"n":"Tai Verdes","l":6,"f":0,"t":6,"p":51},{"n":"girl in red","l":6,"f":0,"t":6,"p":32},{"n":"Metro Boomin","l":5,"f":1,"t":6,"p":47},{"n":"Trippie Redd","l":3,"f":3,"t":6,"p":32},{"n":"ScHoolboy Q","l":5,"f":1,"t":6,"p":48},{"n":"Pink Sweat$","l":5,"f":0,"t":5,"p":null},{"n":"Artemas","l":5,"f":0,"t":5,"p":66},{"n":"Lyn Lapid","l":5,"f":0,"t":5,"p":49},{"n":"Tiny Meat Gang","l":4,"f":1,"t":5,"p":35},{"n":"PawPaw Rod","l":4,"f":1,"t":5,"p":24},{"n":"Bryson Tiller","l":2,"f":3,"t":5,"p":63},{"n":"renforshort","l":5,"f":0,"t":5,"p":38},{"n":"Quadeca","l":4,"f":1,"t":5,"p":43},{"n":"Charlie Puth","l":5,"f":0,"t":5,"p":56},{"n":"Royel Otis","l":5,"f":0,"t":5,"p":72},{"n":"Still Woozy","l":4,"f":1,"t":5,"p":53},{"n":"Peach Tree Rascals","l":5,"f":0,"t":5,"p":1},{"n":"Smino","l":4,"f":1,"t":5,"p":42},{"n":"Denzel Curry","l":4,"f":1,"t":5,"p":46},{"n":"The Wrecks","l":5,"f":0,"t":5,"p":43},{"n":"Ice Spice","l":3,"f":2,"t":5,"p":62},{"n":"Cautious Clay","l":5,"f":0,"t":5,"p":37},{"n":"Kevin Abstract","l":4,"f":1,"t":5,"p":50},{"n":"MGMT","l":4,"f":1,"t":5,"p":67},{"n":"Souly Had","l":4,"f":1,"t":5,"p":38},{"n":"The Neighbourhood","l":5,"f":0,"t":5,"p":74},{"n":"Cuco","l":5,"f":0,"t":5,"p":null},{"n":"Mt. Joy","l":5,"f":0,"t":5,"p":22},{"n":"Zach Bryan","l":5,"f":0,"t":5,"p":64},{"n":"USHER","l":4,"f":1,"t":5,"p":53},{"n":"Ruel","l":3,"f":2,"t":5,"p":46},{"n":"Marc E. Bassy","l":3,"f":2,"t":5,"p":45},{"n":"Mac DeMarco","l":3,"f":2,"t":5,"p":61},{"n":"Chris Brown","l":2,"f":3,"t":5,"p":57},{"n":"Red Hot Chili Peppers","l":5,"f":0,"t":5,"p":82},{"n":"spill tab","l":5,"f":0,"t":5,"p":37},{"n":"Wallows","l":4,"f":0,"t":4,"p":56},{"n":"Lorde","l":4,"f":0,"t":4,"p":35},{"n":"Logic","l":3,"f":1,"t":4,"p":47},{"n":"Paramore","l":4,"f":0,"t":4,"p":72},{"n":"Creed","l":4,"f":0,"t":4,"p":79},{"n":"mgk","l":2,"f":2,"t":4,"p":66},{"n":"88rising","l":4,"f":0,"t":4,"p":null},{"n":"khai dreams","l":3,"f":1,"t":4,"p":null},{"n":"Ty Dolla $ign","l":0,"f":4,"t":4,"p":59},{"n":"BENEE","l":3,"f":1,"t":4,"p":58},{"n":"Sia","l":3,"f":1,"t":4,"p":63},{"n":"Madison Beer","l":4,"f":0,"t":4,"p":56},{"n":"Roddy Ricch","l":2,"f":2,"t":4,"p":76},{"n":"d4vd","l":2,"f":2,"t":4,"p":48},{"n":"NewJeans","l":4,"f":0,"t":4,"p":78},{"n":"BROCKHAMPTON","l":4,"f":0,"t":4,"p":62},{"n":"Elton John","l":3,"f":1,"t":4,"p":65},{"n":"Claire Rosinkranz","l":4,"f":0,"t":4,"p":57},{"n":"Grady","l":4,"f":0,"t":4,"p":36},{"n":"Brent Faiyaz","l":2,"f":2,"t":4,"p":73},{"n":"Christian French","l":3,"f":1,"t":4,"p":24},{"n":"Zulia","l":4,"f":0,"t":4,"p":31},{"n":"BETWEEN FRIENDS","l":4,"f":0,"t":4,"p":37},{"n":"Da\u00f0i Freyr","l":3,"f":1,"t":4,"p":20},{"n":"Cigarettes After Sex","l":4,"f":0,"t":4,"p":1},{"n":"MICHELLE","l":4,"f":0,"t":4,"p":32},{"n":"Jordan Ward","l":4,"f":0,"t":4,"p":51},{"n":"Celeste","l":4,"f":0,"t":4,"p":56},{"n":"Gunna","l":0,"f":4,"t":4,"p":52},{"n":"glaive","l":4,"f":0,"t":4,"p":49},{"n":"Whyandotte","l":3,"f":1,"t":4,"p":7},{"n":"Thundercat","l":3,"f":1,"t":4,"p":70},{"n":"Alex Banin","l":3,"f":1,"t":4,"p":41},{"n":"Jonas Brothers","l":4,"f":0,"t":4,"p":26},{"n":"Phoebe Bridgers","l":3,"f":1,"t":4,"p":66},{"n":"sombr","l":3,"f":1,"t":4,"p":84},{"n":"Declan McKenna","l":4,"f":0,"t":4,"p":50},{"n":"Yeat","l":4,"f":0,"t":4,"p":74},{"n":"Travis Barker","l":0,"f":3,"t":3,"p":65},{"n":"THE DRIVER ERA","l":3,"f":0,"t":3,"p":null},{"n":"Jelani Aryeh","l":3,"f":0,"t":3,"p":45},{"n":"YoungBoy Never Broke Again","l":0,"f":3,"t":3,"p":68},{"n":"Vince Staples","l":1,"f":2,"t":3,"p":48},{"n":"Lizzy McAlpine","l":2,"f":1,"t":3,"p":37},{"n":"XXXTENTACION","l":2,"f":1,"t":3,"p":45},{"n":"Carlita","l":3,"f":0,"t":3,"p":44},{"n":"DERBY","l":3,"f":0,"t":3,"p":41},{"n":"A Tribe Called Quest","l":3,"f":0,"t":3,"p":61},{"n":"Social House","l":2,"f":1,"t":3,"p":62},{"n":"C418","l":3,"f":0,"t":3,"p":59},{"n":"wave to earth","l":3,"f":0,"t":3,"p":67},{"n":"Mark Ronson","l":0,"f":3,"t":3,"p":61},{"n":"eli.","l":3,"f":0,"t":3,"p":null},{"n":"Alt Bloom","l":3,"f":0,"t":3,"p":44},{"n":"re6ce","l":3,"f":0,"t":3,"p":52},{"n":"Lyrical Lemonade","l":3,"f":0,"t":3,"p":42},{"n":"Labrinth","l":1,"f":2,"t":3,"p":58},{"n":"The Strokes","l":3,"f":0,"t":3,"p":69},{"n":"Sam Smith","l":2,"f":1,"t":3,"p":63},{"n":"Verzache","l":3,"f":0,"t":3,"p":null},{"n":"Cage The Elephant","l":3,"f":0,"t":3,"p":72},{"n":"Balu Brigada","l":3,"f":0,"t":3,"p":62},{"n":"Aidan Bissett","l":3,"f":0,"t":3,"p":48},{"n":"KAYTRANADA","l":0,"f":3,"t":3,"p":50},{"n":"Prelow","l":0,"f":3,"t":3,"p":14},{"n":"Durand Jones & The Indications","l":3,"f":0,"t":3,"p":50},{"n":"Lil Dicky","l":3,"f":0,"t":3,"p":null},{"n":"Foushe\u00e9","l":1,"f":2,"t":3,"p":47},{"n":"Mk.gee","l":3,"f":0,"t":3,"p":64},{"n":"Tate McRae","l":3,"f":0,"t":3,"p":80},{"n":"bbno$","l":2,"f":1,"t":3,"p":49},{"n":"Leon Thomas","l":3,"f":0,"t":3,"p":73},{"n":"T-Pain","l":0,"f":3,"t":3,"p":56},{"n":"Dijon","l":3,"f":0,"t":3,"p":69},{"n":"sam.sts","l":3,"f":0,"t":3,"p":null},{"n":"D\u00e9yyess","l":3,"f":0,"t":3,"p":42},{"n":"Pharrell Williams","l":0,"f":3,"t":3,"p":53},{"n":"Migos","l":1,"f":2,"t":3,"p":70},{"n":"ericdoa","l":2,"f":1,"t":3,"p":49},{"n":"Fleetwood Mac","l":3,"f":0,"t":3,"p":57},{"n":"Oh Wonder","l":2,"f":1,"t":3,"p":54},{"n":"iann dior","l":2,"f":1,"t":3,"p":null},{"n":"Train","l":3,"f":0,"t":3,"p":72},{"n":"Nessa Barrett","l":3,"f":0,"t":3,"p":59},{"n":"Aaron Frazer","l":0,"f":3,"t":3,"p":50},{"n":"Kota the Friend","l":3,"f":0,"t":3,"p":36},{"n":"WILLOW","l":1,"f":2,"t":3,"p":59},{"n":"Chloe Qisha","l":3,"f":0,"t":3,"p":37},{"n":"Vacations","l":3,"f":0,"t":3,"p":60},{"n":"Offset","l":2,"f":1,"t":3,"p":49},{"n":"Little Big","l":3,"f":0,"t":3,"p":48},{"n":"Fuerza Regida","l":3,"f":0,"t":3,"p":79},{"n":"Twenty One Pilots","l":3,"f":0,"t":3,"p":68},{"n":"FINNEAS","l":3,"f":0,"t":3,"p":null},{"n":"Ryan Gosling","l":3,"f":0,"t":3,"p":46},{"n":"Michael Bubl\u00e9","l":3,"f":0,"t":3,"p":32},{"n":"Sam Austins","l":3,"f":0,"t":3,"p":24},{"n":"The Backseat Lovers","l":3,"f":0,"t":3,"p":64},{"n":"Shawn Mendes","l":3,"f":0,"t":3,"p":49},{"n":"Nat King Cole","l":3,"f":0,"t":3,"p":56},{"n":"Maggie Rogers","l":3,"f":0,"t":3,"p":58},{"n":"benny blanco","l":2,"f":1,"t":3,"p":68},{"n":"Lil Peep","l":3,"f":0,"t":3,"p":21},{"n":"Bakar","l":3,"f":0,"t":3,"p":53},{"n":"Ne-Yo","l":2,"f":1,"t":3,"p":72},{"n":"MAX","l":3,"f":0,"t":3,"p":48},{"n":"jigitz","l":3,"f":0,"t":3,"p":38},{"n":"A-Wall","l":2,"f":1,"t":3,"p":22},{"n":"New West","l":3,"f":0,"t":3,"p":null},{"n":"Joyner Lucas","l":3,"f":0,"t":3,"p":52},{"n":"Kanii","l":3,"f":0,"t":3,"p":62},{"n":"Beach House","l":3,"f":0,"t":3,"p":62},{"n":"Ed Sheeran","l":3,"f":0,"t":3,"p":59},{"n":"Ryan Leahan","l":3,"f":0,"t":3,"p":27},{"n":"Marshmello","l":2,"f":1,"t":3,"p":5},{"n":"JAWNY","l":3,"f":0,"t":3,"p":50},{"n":"UMI","l":2,"f":1,"t":3,"p":50},{"n":"Rick Ross","l":0,"f":3,"t":3,"p":46},{"n":"Thee Sacred Souls","l":2,"f":1,"t":3,"p":68},{"n":"Surfaces","l":3,"f":0,"t":3,"p":29},{"n":"Chance the Rapper","l":2,"f":1,"t":3,"p":40},{"n":"Kenny Beats","l":2,"f":1,"t":3,"p":51},{"n":"Daft Punk","l":2,"f":1,"t":3,"p":78},{"n":"Weezer","l":2,"f":1,"t":3,"p":67},{"n":"Michael Jackson","l":2,"f":1,"t":3,"p":48},{"n":"Playboi Carti","l":2,"f":1,"t":3,"p":53},{"n":"Chezile","l":3,"f":0,"t":3,"p":61},{"n":"Benson Boone","l":3,"f":0,"t":3,"p":73},{"n":"Chief Keef","l":0,"f":2,"t":2,"p":42},{"n":"MOIO","l":2,"f":0,"t":2,"p":20},{"n":"Lost Frequencies","l":2,"f":0,"t":2,"p":78},{"n":"Billy Joel","l":2,"f":0,"t":2,"p":68},{"n":"Petit Biscuit","l":2,"f":0,"t":2,"p":54},{"n":"Brenton Wood","l":2,"f":0,"t":2,"p":62},{"n":"Key Glock","l":2,"f":0,"t":2,"p":58},{"n":"The Beatles","l":2,"f":0,"t":2,"p":76},{"n":"Bridgit Mendler","l":1,"f":1,"t":2,"p":67},{"n":"Lewis Capaldi","l":2,"f":0,"t":2,"p":82},{"n":"Dan + Shay","l":2,"f":0,"t":2,"p":68},{"n":"Gus Dapperton","l":1,"f":1,"t":2,"p":36},{"n":"Big Time Rush","l":2,"f":0,"t":2,"p":46},{"n":"Sixpence None The Richer","l":2,"f":0,"t":2,"p":76},{"n":"Sports","l":2,"f":0,"t":2,"p":46},{"n":"Deb Never","l":2,"f":0,"t":2,"p":34},{"n":"NAV","l":1,"f":1,"t":2,"p":33},{"n":"Lauv","l":2,"f":0,"t":2,"p":2},{"n":"Al Green","l":2,"f":0,"t":2,"p":74},{"n":"Monjola","l":2,"f":0,"t":2,"p":8},{"n":"Internet Money","l":1,"f":1,"t":2,"p":3},{"n":"AG Club","l":2,"f":0,"t":2,"p":34},{"n":"Matt Champion","l":2,"f":0,"t":2,"p":46},{"n":"Mariah Carey","l":2,"f":0,"t":2,"p":81},{"n":"WizTheMc","l":2,"f":0,"t":2,"p":null},{"n":"COIN","l":2,"f":0,"t":2,"p":64},{"n":"ODIE","l":2,"f":0,"t":2,"p":60},{"n":"Lime Cordiale","l":2,"f":0,"t":2,"p":46},{"n":"Bryce Vine","l":2,"f":0,"t":2,"p":58},{"n":"Suki Waterhouse","l":2,"f":0,"t":2,"p":48},{"n":"Durand Jones","l":0,"f":2,"t":2,"p":50},{"n":"Kings of Leon","l":2,"f":0,"t":2,"p":83},{"n":"Justin Timberlake","l":2,"f":0,"t":2,"p":58},{"n":"NIKI","l":2,"f":0,"t":2,"p":64},{"n":"Lady Gaga","l":2,"f":0,"t":2,"p":80},{"n":"Felly","l":1,"f":1,"t":2,"p":28},{"n":"Marvin Gaye","l":2,"f":0,"t":2,"p":60},{"n":"Renao","l":2,"f":0,"t":2,"p":35},{"n":"Grupo Frontera","l":1,"f":1,"t":2,"p":56},{"n":"Aries","l":2,"f":0,"t":2,"p":36},{"n":"Saga Faye","l":2,"f":0,"t":2,"p":39},{"n":"Jack Johnson","l":2,"f":0,"t":2,"p":69},{"n":"SALES","l":2,"f":0,"t":2,"p":60},{"n":"ABBA","l":2,"f":0,"t":2,"p":2},{"n":"Zack Gray","l":1,"f":1,"t":2,"p":21},{"n":"EDEN","l":2,"f":0,"t":2,"p":44},{"n":"Lana Del Rey","l":2,"f":0,"t":2,"p":71},{"n":"Earth, Wind & Fire","l":2,"f":0,"t":2,"p":42},{"n":"Knox Fortune","l":1,"f":1,"t":2,"p":52},{"n":"Dana and Alden","l":2,"f":0,"t":2,"p":38},{"n":"Kygo","l":2,"f":0,"t":2,"p":60},{"n":"Emile Mosseri","l":2,"f":0,"t":2,"p":60},{"n":"Stan Getz","l":2,"f":0,"t":2,"p":57},{"n":"Flume","l":1,"f":1,"t":2,"p":2},{"n":"KAYTRAMIN\u00c9","l":2,"f":0,"t":2,"p":48},{"n":"Porter Robinson","l":2,"f":0,"t":2,"p":21},{"n":"Ken Carson","l":0,"f":2,"t":2,"p":42},{"n":"BoyWithUke","l":2,"f":0,"t":2,"p":60},{"n":"MF DOOM","l":2,"f":0,"t":2,"p":64},{"n":"YUNGBLUD","l":2,"f":0,"t":2,"p":64},{"n":"Luke Bryan","l":2,"f":0,"t":2,"p":74},{"n":"Toro y Moi","l":1,"f":1,"t":2,"p":20},{"n":"NLE Choppa","l":2,"f":0,"t":2,"p":54},{"n":"Sean Kingston","l":2,"f":0,"t":2,"p":73},{"n":"Free Nationals","l":2,"f":0,"t":2,"p":58},{"n":"Ruby Waters","l":2,"f":0,"t":2,"p":35},{"n":"Olivia Dean","l":2,"f":0,"t":2,"p":76},{"n":"Dreamer Isioma","l":2,"f":0,"t":2,"p":51},{"n":"Christian Leave","l":2,"f":0,"t":2,"p":38},{"n":"Tom The Mail Man","l":2,"f":0,"t":2,"p":38},{"n":"Russ","l":2,"f":0,"t":2,"p":51},{"n":"Tommy Newport","l":2,"f":0,"t":2,"p":39},{"n":"Dogpark","l":2,"f":0,"t":2,"p":54},{"n":"Hello O'shay","l":0,"f":2,"t":2,"p":36},{"n":"Amber Mark","l":1,"f":1,"t":2,"p":53},{"n":"Chris Lake","l":2,"f":0,"t":2,"p":56},{"n":"Pop Smoke","l":2,"f":0,"t":2,"p":69},{"n":"lovelytheband","l":1,"f":1,"t":2,"p":26},{"n":"Krooked Kings","l":2,"f":0,"t":2,"p":15},{"n":"Ally Evenson","l":2,"f":0,"t":2,"p":12},{"n":"John Lennon","l":2,"f":0,"t":2,"p":68},{"n":"marQ","l":2,"f":0,"t":2,"p":54},{"n":"The Smashing Pumpkins","l":2,"f":0,"t":2,"p":74},{"n":"Son Lux","l":2,"f":0,"t":2,"p":38},{"n":"JELEEL!","l":2,"f":0,"t":2,"p":32},{"n":"Andr\u00e9 3000","l":0,"f":2,"t":2,"p":47},{"n":"LSD","l":0,"f":2,"t":2,"p":61},{"n":"Jonah Zed","l":1,"f":1,"t":2,"p":18},{"n":"Blood Orange","l":2,"f":0,"t":2,"p":66},{"n":"Gene Autry","l":2,"f":0,"t":2,"p":71},{"n":"Zentangle","l":2,"f":0,"t":2,"p":null},{"n":"Blanks","l":2,"f":0,"t":2,"p":36},{"n":"Lonely God","l":1,"f":1,"t":2,"p":19},{"n":"GROUPLOVE","l":2,"f":0,"t":2,"p":44},{"n":"Bryant Barnes","l":2,"f":0,"t":2,"p":63},{"n":"PRETTYMUCH","l":2,"f":0,"t":2,"p":47},{"n":"Araya","l":2,"f":0,"t":2,"p":null},{"n":"Adele","l":2,"f":0,"t":2,"p":32},{"n":"carwash","l":2,"f":0,"t":2,"p":3},{"n":"Riovaz","l":1,"f":1,"t":2,"p":56},{"n":"Beyonc\u00e9","l":1,"f":1,"t":2,"p":66},{"n":"Luke Combs","l":2,"f":0,"t":2,"p":70},{"n":"Mild High Club","l":2,"f":0,"t":2,"p":null},{"n":"NxWorries","l":2,"f":0,"t":2,"p":49},{"n":"Doechii","l":0,"f":2,"t":2,"p":62},{"n":"MASN","l":1,"f":1,"t":2,"p":36},{"n":"Nala Sinephro","l":2,"f":0,"t":2,"p":46},{"n":"Larry Lovestein & The Velvet Revival","l":2,"f":0,"t":2,"p":22},{"n":"Julius Rodriguez","l":2,"f":0,"t":2,"p":18},{"n":"boy pablo","l":2,"f":0,"t":2,"p":31},{"n":"Tinashe","l":1,"f":1,"t":2,"p":74},{"n":"Chappell Roan","l":2,"f":0,"t":2,"p":83},{"n":"Syd","l":1,"f":1,"t":2,"p":40},{"n":"Joony","l":0,"f":2,"t":2,"p":60},{"n":"greek","l":2,"f":0,"t":2,"p":59},{"n":"Claud","l":0,"f":2,"t":2,"p":40},{"n":"Sexyy Red","l":0,"f":2,"t":2,"p":61},{"n":"Panic! At The Disco","l":2,"f":0,"t":2,"p":65},{"n":"JVKE","l":2,"f":0,"t":2,"p":40},{"n":"Sampha","l":1,"f":1,"t":2,"p":41},{"n":"mxmtoon","l":2,"f":0,"t":2,"p":null},{"n":"Ski Mask The Slump God","l":1,"f":1,"t":2,"p":55},{"n":"Disclosure","l":1,"f":1,"t":2,"p":60},{"n":"Alexander 23","l":2,"f":0,"t":2,"p":38},{"n":"Rihanna","l":1,"f":1,"t":2,"p":76},{"n":"Audrey Hobert","l":2,"f":0,"t":2,"p":65},{"n":"lucidbeatz","l":1,"f":1,"t":2,"p":59},{"n":"Morgan Wallen","l":0,"f":2,"t":2,"p":76},{"n":"Swae Lee","l":1,"f":1,"t":2,"p":34},{"n":"Mergui","l":2,"f":0,"t":2,"p":18},{"n":"Tyga","l":0,"f":2,"t":2,"p":60},{"n":"Dayglow","l":2,"f":0,"t":2,"p":1},{"n":"FILLY","l":2,"f":0,"t":2,"p":26},{"n":"The Happy Fits","l":2,"f":0,"t":2,"p":null},{"n":"Savage Ga$p","l":2,"f":0,"t":2,"p":15},{"n":"dj gummy bear","l":1,"f":1,"t":2,"p":42},{"n":"TWICE","l":2,"f":0,"t":2,"p":62},{"n":"Yebba","l":1,"f":1,"t":2,"p":76},{"n":"Yung Gravy","l":1,"f":1,"t":2,"p":46},{"n":"Healy","l":2,"f":0,"t":2,"p":35},{"n":"Alec Benjamin","l":2,"f":0,"t":2,"p":82},{"n":"Fall Out Boy","l":1,"f":1,"t":2,"p":70},{"n":"Devon","l":2,"f":0,"t":2,"p":35},{"n":"Bill Withers","l":1,"f":1,"t":2,"p":74},{"n":"binki","l":2,"f":0,"t":2,"p":null},{"n":"Two Door Cinema Club","l":2,"f":0,"t":2,"p":null},{"n":"Cody Ko","l":2,"f":0,"t":2,"p":20},{"n":"DWLLRS","l":2,"f":0,"t":2,"p":22},{"n":"Mercer Henderson","l":2,"f":0,"t":2,"p":24},{"n":"Meghan Trainor","l":2,"f":0,"t":2,"p":46},{"n":"Loud Luxury","l":1,"f":1,"t":2,"p":76},{"n":"Alemeda","l":2,"f":0,"t":2,"p":46},{"n":"Flawed Mangoes","l":2,"f":0,"t":2,"p":67},{"n":"BlocBoy JB","l":1,"f":1,"t":2,"p":5},{"n":"Mon Rov\u00eda","l":2,"f":0,"t":2,"p":63},{"n":"Del Water Gap","l":2,"f":0,"t":2,"p":32},{"n":"Headband Henny","l":1,"f":1,"t":2,"p":46},{"n":"Marco Luka","l":2,"f":0,"t":2,"p":null},{"n":"New Order","l":2,"f":0,"t":2,"p":58},{"n":"Max Fry","l":2,"f":0,"t":2,"p":54},{"n":"HOAX","l":2,"f":0,"t":2,"p":47},{"n":"Trevor Daniel","l":2,"f":0,"t":2,"p":3},{"n":"Victoria Mon\u00e9t","l":1,"f":1,"t":2,"p":58},{"n":"Bruhnice","l":0,"f":2,"t":2,"p":36},{"n":"YG","l":2,"f":0,"t":2,"p":62},{"n":"Flo Rida","l":1,"f":1,"t":2,"p":81},{"n":"MiLES.","l":2,"f":0,"t":2,"p":42},{"n":"Austin Millz","l":1,"f":1,"t":2,"p":10},{"n":"Frank Sinatra","l":2,"f":0,"t":2,"p":73},{"n":"Michael Giacchino","l":2,"f":0,"t":2,"p":50},{"n":"FKJ","l":2,"f":0,"t":2,"p":null},{"n":"Alex Ernst","l":2,"f":0,"t":2,"p":null},{"n":"Sasha Alex Sloan","l":1,"f":1,"t":2,"p":66},{"n":"Sunday (1994)","l":2,"f":0,"t":2,"p":null},{"n":"guardin","l":1,"f":1,"t":2,"p":15},{"n":"MINOVA","l":2,"f":0,"t":2,"p":58},{"n":"Gigi Perez","l":2,"f":0,"t":2,"p":73},{"n":"KYLE","l":2,"f":0,"t":2,"p":28},{"n":"Teddy Swims","l":2,"f":0,"t":2,"p":72},{"n":"Joey Purp","l":1,"f":1,"t":2,"p":50},{"n":"Love Spells","l":1,"f":1,"t":2,"p":58},{"n":"Jason Derulo","l":2,"f":0,"t":2,"p":64},{"n":"That Mexican OT","l":1,"f":1,"t":2,"p":46},{"n":"Nathan Evans","l":2,"f":0,"t":2,"p":68},{"n":"The Temper Trap","l":0,"f":2,"t":2,"p":39},{"n":"BABYKIRA","l":2,"f":0,"t":2,"p":18},{"n":"ILLIT","l":2,"f":0,"t":2,"p":77},{"n":"young friend","l":2,"f":0,"t":2,"p":null},{"n":"david hugo","l":2,"f":0,"t":2,"p":null},{"n":"Polo G","l":1,"f":1,"t":2,"p":60},{"n":"Hadji Gaviota","l":2,"f":0,"t":2,"p":null},{"n":"Tom Odell","l":1,"f":1,"t":2,"p":78},{"n":"Arlo Parks","l":2,"f":0,"t":2,"p":50},{"n":"Cordae","l":2,"f":0,"t":2,"p":65},{"n":"99 Neighbors","l":2,"f":0,"t":2,"p":36},{"n":"Queen","l":2,"f":0,"t":2,"p":69},{"n":"Whethan","l":1,"f":1,"t":2,"p":50},{"n":"Ritt Momney","l":2,"f":0,"t":2,"p":33},{"n":"Tommy Richman","l":1,"f":1,"t":2,"p":35},{"n":"Sally Boy","l":2,"f":0,"t":2,"p":13},{"n":"Nicki Minaj","l":1,"f":1,"t":2,"p":56},{"n":"Stevie Wonder","l":2,"f":0,"t":2,"p":64},{"n":"A Boogie Wit da Hoodie","l":2,"f":0,"t":2,"p":53},{"n":"Grant Schaffer","l":2,"f":0,"t":2,"p":12},{"n":"Kidsnot$aints.","l":2,"f":0,"t":2,"p":null},{"n":"Duckwrth","l":1,"f":1,"t":2,"p":38},{"n":"Comethazine","l":2,"f":0,"t":2,"p":null},{"n":"Knxwledge","l":0,"f":2,"t":2,"p":49},{"n":"grentperez","l":2,"f":0,"t":2,"p":57},{"n":"Pretty Boy Aaron","l":2,"f":0,"t":2,"p":36},{"n":"Caf\u00faně","l":2,"f":0,"t":2,"p":62},{"n":"Kid Travis","l":2,"f":0,"t":2,"p":null},{"n":"GIV\u0112ON","l":1,"f":1,"t":2,"p":66},{"n":"th\u1ee7y","l":2,"f":0,"t":2,"p":46},{"n":"Saint Motel","l":2,"f":0,"t":2,"p":48},{"n":"The Ronettes","l":2,"f":0,"t":2,"p":46},{"n":"Scotty Sire","l":2,"f":0,"t":2,"p":null},{"n":"Bas","l":1,"f":1,"t":2,"p":62},{"n":"BloodPop\u00ae","l":0,"f":2,"t":2,"p":61},{"n":"Frex","l":2,"f":0,"t":2,"p":14},{"n":"gianni & kyle","l":2,"f":0,"t":2,"p":null},{"n":"The Killers","l":2,"f":0,"t":2,"p":6},{"n":"alt-J","l":2,"f":0,"t":2,"p":69},{"n":"Porch Light","l":2,"f":0,"t":2,"p":58},{"n":"Arizona Zervas","l":2,"f":0,"t":2,"p":62},{"n":"Lil Wayne","l":1,"f":1,"t":2,"p":48},{"n":"Coast Contra","l":2,"f":0,"t":2,"p":29},{"n":"Maroon 5","l":2,"f":0,"t":2,"p":54}];

function initNewCharts() {
  const artists = ARTIST_DATA.map(d => ({
    name: d.n,
    lead: d.l,
    feat: d.f,
    total: d.t,
    avgPop: d.p !== undefined ? d.p : null
  }));
  buildBubbleChart(artists);
  buildSpectrumChart(artists);
}

// --------------------------------------------------
// BUBBLE CHART
// --------------------------------------------------
function buildBubbleChart(artists) {
  const svgNS = 'http://www.w3.org/2000/svg';
  const svg = document.getElementById('bubble-svg');
  const W = 900, H = 700;
  svg.setAttribute('viewBox', `0 0 ${W} ${H}`);
  svg.innerHTML = '';

  const maxCount = artists[0].total;
  const MAX_R = 62, MIN_R = 5;

  const nodes = artists.map(a => ({
    ...a,
    r: Math.max(MIN_R, Math.sqrt(a.total / maxCount) * MAX_R),
    x: 0, y: 0
  }));

  // Force-directed bubble packing
  const cx = W / 2, cy = H / 2;
  const bound = Math.min(W, H) * 0.47;

  // Golden-angle spiral initialization
  nodes.forEach((n, i) => {
    const angle = i * 2.39996322972865;
    const radius = 5 * Math.sqrt(i + 1);
    n.x = cx + Math.cos(angle) * Math.min(radius, bound - n.r);
    n.y = cy + Math.sin(angle) * Math.min(radius, bound - n.r);
  });

  const ITERS = 110;
  for (let iter = 0; iter < ITERS; iter++) {
    const t = iter / ITERS;

    // Collision resolution
    for (let i = 0; i < nodes.length; i++) {
      for (let j = i + 1; j < nodes.length; j++) {
        const a = nodes[i], b = nodes[j];
        const dx = b.x - a.x || 0.01, dy = b.y - a.y || 0.01;
        const d2 = dx * dx + dy * dy;
        const gap = a.r + b.r + 2;
        if (d2 < gap * gap) {
          const d = Math.sqrt(d2);
          const f = (gap - d) / d * 0.5;
          a.x -= dx * f; a.y -= dy * f;
          b.x += dx * f; b.y += dy * f;
        }
      }
    }

    // Gravity toward center + boundary clamp
    const g = 0.045 * Math.max(0.05, 1 - t * 1.2);
    nodes.forEach(n => {
      n.x += (cx - n.x) * g;
      n.y += (cy - n.y) * g;
      const dx = n.x - cx, dy = n.y - cy;
      const d = Math.hypot(dx, dy);
      const maxD = bound - n.r;
      if (d > maxD && d > 0) {
        n.x = cx + dx / d * maxD;
        n.y = cy + dy / d * maxD;
      }
    });
  }

  const tooltip = document.getElementById('bubble-tooltip');

  nodes.forEach(n => {
    const color = popTierColor(n.avgPop);
    const g = document.createElementNS(svgNS, 'g');
    g.setAttribute('transform', `translate(${n.x.toFixed(1)},${n.y.toFixed(1)})`);
    g.style.cursor = 'pointer';

    const circle = document.createElementNS(svgNS, 'circle');
    circle.setAttribute('r', n.r.toFixed(1));
    circle.setAttribute('fill', hexAlpha(color, 0.18));
    circle.setAttribute('stroke', color);
    circle.setAttribute('stroke-width', n.total >= 5 ? '1.5' : '1');
    g.appendChild(circle);

    // Label when bubble is large enough
    if (n.r >= 16) {
      const maxChars = Math.floor(n.r / 4.5);
      const label = n.name.length > maxChars + 1 ? n.name.slice(0, maxChars) + '…' : n.name;
      const text = document.createElementNS(svgNS, 'text');
      text.setAttribute('text-anchor', 'middle');
      text.setAttribute('dominant-baseline', 'middle');
      text.setAttribute('fill', color);
      text.setAttribute('font-size', Math.min(11, n.r * 0.38).toFixed(1));
      text.setAttribute('font-family', 'Space Mono, monospace');
      text.setAttribute('pointer-events', 'none');
      text.textContent = label;
      g.appendChild(text);
    }

    g.addEventListener('mouseenter', () => {
      circle.setAttribute('fill', hexAlpha(color, 0.45));
      tooltip.style.display = 'block';
      const tier = popTierInfo(n.avgPop);
      const tierStr = tier ? `<span style="color:${tier.color}">${tier.label}</span> ` : '';
      tooltip.innerHTML = `<strong style="color:${color}">${n.name}</strong><br>${n.total} songs · ${n.lead} lead + ${n.feat} feat<br>${tierStr}${n.avgPop !== null ? `<span style="color:var(--text-muted)">avg pop: ${n.avgPop}/100</span>` : '<span style="color:var(--text-muted)">no popularity data</span>'}`;
    });
    g.addEventListener('mousemove', e => {
      tooltip.style.left = (e.clientX + 14) + 'px';
      tooltip.style.top = (e.clientY - 38) + 'px';
    });
    g.addEventListener('mouseleave', () => {
      circle.setAttribute('fill', hexAlpha(color, 0.18));
      tooltip.style.display = 'none';
    });
    g.addEventListener('click', () => {
      window.location.href = 'catalog.html?search=' + encodeURIComponent(n.name);
    });

    svg.appendChild(g);
  });
}

// --------------------------------------------------
// UNDERGROUND → MAINSTREAM SPECTRUM
// --------------------------------------------------
function buildSpectrumChart(artists) {
  const withPop = artists.filter(a => a.avgPop !== null);
  if (!withPop.length) return;

  const svgNS = 'http://www.w3.org/2000/svg';
  const svg = document.getElementById('spectrum-svg');

  const W = 1100;
  const PAD = { top: 44, right: 24, bottom: 52, left: 54 };
  const chartW = W - PAD.left - PAD.right;
  const chartH = 320;
  const H = PAD.top + chartH + PAD.bottom;

  svg.setAttribute('viewBox', `0 0 ${W} ${H}`);
  svg.innerHTML = '';

  const maxSongs = withPop[0].total; // sorted by total desc
  const xScale = p => PAD.left + (p / 100) * chartW;
  const yScale = c => PAD.top + chartH - (Math.sqrt(c) / Math.sqrt(maxSongs)) * chartH * 0.9;

  // Zone background bands + dividers + labels
  POP_TIERS.forEach(tier => {
    const x1 = xScale(tier.min);
    const x2 = xScale(Math.min(tier.max, 100));

    const rect = document.createElementNS(svgNS, 'rect');
    rect.setAttribute('x', x1); rect.setAttribute('y', PAD.top);
    rect.setAttribute('width', x2 - x1); rect.setAttribute('height', chartH);
    rect.setAttribute('fill', hexAlpha(tier.color, 0.07));
    svg.appendChild(rect);

    if (tier.min > 0) {
      const div = document.createElementNS(svgNS, 'line');
      div.setAttribute('x1', x1); div.setAttribute('x2', x1);
      div.setAttribute('y1', PAD.top); div.setAttribute('y2', PAD.top + chartH);
      div.setAttribute('stroke', hexAlpha(tier.color, 0.28));
      div.setAttribute('stroke-dasharray', '3 4');
      svg.appendChild(div);
    }

    const midX = xScale((tier.min + Math.min(tier.max, 100)) / 2);
    const lbl = document.createElementNS(svgNS, 'text');
    lbl.setAttribute('x', midX); lbl.setAttribute('y', PAD.top - 10);
    lbl.setAttribute('text-anchor', 'middle');
    lbl.setAttribute('fill', tier.color);
    lbl.setAttribute('font-size', '10');
    lbl.setAttribute('font-family', 'Space Mono, monospace');
    lbl.setAttribute('letter-spacing', '1.5');
    lbl.textContent = tier.label.toUpperCase();
    svg.appendChild(lbl);
  });

  // Y-axis gridlines + labels
  [1, 2, 5, 10, 20, 30, 50].filter(c => c <= maxSongs).forEach(c => {
    const y = yScale(c);
    const gl = document.createElementNS(svgNS, 'line');
    gl.setAttribute('x1', PAD.left); gl.setAttribute('x2', PAD.left + chartW);
    gl.setAttribute('y1', y); gl.setAttribute('y2', y);
    gl.setAttribute('stroke', 'rgba(255,255,255,0.05)');
    svg.appendChild(gl);

    const t = document.createElementNS(svgNS, 'text');
    t.setAttribute('x', PAD.left - 8); t.setAttribute('y', y + 4);
    t.setAttribute('text-anchor', 'end');
    t.setAttribute('fill', '#6a6460');
    t.setAttribute('font-size', '9');
    t.setAttribute('font-family', 'Space Mono, monospace');
    t.textContent = c;
    svg.appendChild(t);
  });

  // X axis baseline
  const xAxis = document.createElementNS(svgNS, 'line');
  xAxis.setAttribute('x1', PAD.left); xAxis.setAttribute('x2', PAD.left + chartW);
  xAxis.setAttribute('y1', PAD.top + chartH); xAxis.setAttribute('y2', PAD.top + chartH);
  xAxis.setAttribute('stroke', 'var(--border)');
  svg.appendChild(xAxis);

  // X axis tick labels
  for (let v = 0; v <= 100; v += 10) {
    const x = xScale(v);
    const t = document.createElementNS(svgNS, 'text');
    t.setAttribute('x', x); t.setAttribute('y', PAD.top + chartH + 16);
    t.setAttribute('text-anchor', 'middle');
    t.setAttribute('fill', '#6a6460');
    t.setAttribute('font-size', '9');
    t.setAttribute('font-family', 'Space Mono, monospace');
    t.textContent = v;
    svg.appendChild(t);
  }

  // Axis labels
  const xLbl = document.createElementNS(svgNS, 'text');
  xLbl.setAttribute('x', PAD.left + chartW / 2);
  xLbl.setAttribute('y', PAD.top + chartH + 38);
  xLbl.setAttribute('text-anchor', 'middle');
  xLbl.setAttribute('fill', '#6a6460');
  xLbl.setAttribute('font-size', '9');
  xLbl.setAttribute('font-family', 'Space Mono, monospace');
  xLbl.setAttribute('letter-spacing', '2');
  xLbl.textContent = 'AVG SPOTIFY TRACK POPULARITY (0–100)';
  svg.appendChild(xLbl);

  const yLbl = document.createElementNS(svgNS, 'text');
  yLbl.setAttribute('transform', `rotate(-90,14,${PAD.top + chartH / 2})`);
  yLbl.setAttribute('x', 14); yLbl.setAttribute('y', PAD.top + chartH / 2);
  yLbl.setAttribute('text-anchor', 'middle');
  yLbl.setAttribute('fill', '#6a6460');
  yLbl.setAttribute('font-size', '9');
  yLbl.setAttribute('font-family', 'Space Mono, monospace');
  yLbl.setAttribute('letter-spacing', '2');
  yLbl.textContent = 'SONGS ADDED';
  svg.appendChild(yLbl);

  const tooltip = document.getElementById('spectrum-tooltip');

  // Render dots: smallest first so larger dots appear on top
  const sorted = [...withPop].sort((a, b) => a.total - b.total);

  sorted.forEach(a => {
    const color = popTierColor(a.avgPop);
    const x = xScale(a.avgPop);
    const y = yScale(a.total);
    const r = Math.max(3.5, Math.min(12, 2.5 + Math.sqrt(a.total)));

    const circle = document.createElementNS(svgNS, 'circle');
    circle.setAttribute('cx', x.toFixed(1));
    circle.setAttribute('cy', y.toFixed(1));
    circle.setAttribute('r', r.toFixed(1));
    circle.setAttribute('fill', hexAlpha(color, 0.55));
    circle.setAttribute('stroke', color);
    circle.setAttribute('stroke-width', '1');
    circle.style.cursor = 'pointer';

    circle.addEventListener('mouseenter', () => {
      circle.setAttribute('fill', hexAlpha(color, 0.9));
      circle.setAttribute('r', (r + 2.5).toFixed(1));
      tooltip.style.display = 'block';
      const tier = popTierInfo(a.avgPop);
      tooltip.innerHTML = `<strong style="color:${color}">${a.name}</strong><br>${a.total} songs · <span style="color:${tier.color}">${tier.label}</span><br><span style="color:var(--text-muted)">avg popularity: ${a.avgPop}/100</span>`;
    });
    circle.addEventListener('mousemove', e => {
      tooltip.style.left = (e.clientX + 14) + 'px';
      tooltip.style.top = (e.clientY - 38) + 'px';
    });
    circle.addEventListener('mouseleave', () => {
      circle.setAttribute('fill', hexAlpha(color, 0.55));
      circle.setAttribute('r', r.toFixed(1));
      tooltip.style.display = 'none';
    });
    circle.addEventListener('click', () => {
      window.location.href = 'catalog.html?search=' + encodeURIComponent(a.name);
    });

    svg.appendChild(circle);
  });

  // Permanent labels for artists with 10+ songs
  withPop.filter(a => a.total >= 10).forEach(a => {
    const color = popTierColor(a.avgPop);
    const text = document.createElementNS(svgNS, 'text');
    text.setAttribute('x', (xScale(a.avgPop) + 9).toFixed(1));
    text.setAttribute('y', (yScale(a.total) + 3.5).toFixed(1));
    text.setAttribute('fill', color);
    text.setAttribute('font-size', '9');
    text.setAttribute('font-family', 'Space Mono, monospace');
    text.setAttribute('pointer-events', 'none');
    text.textContent = a.name;
    svg.appendChild(text);
  });
}

initNewCharts();

</script>
</body>
</html>
