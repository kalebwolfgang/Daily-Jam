<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Daily Jam — 8 Years of Music</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;0,900;1,700&family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0a0a0a;
    --surface: #111111;
    --surface2: #1a1a1a;
    --border: #222222;
    
    /* CHANGED: New Purple Accent */
    --primary: #9d4edd; 
    --primary-glow: rgba(157, 78, 221, 0.15);

    --text: #e8e0d0;
    /* CHANGED: Made these much lighter for readability */
    --text-dim: #bbbbbb; 
    --text-muted: #888888; 

    --red: #e85d4a;
    --green: #5dba7f;
    --blue: #5d8fe8;
  }
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { background: var(--bg); color: var(--text); font-family: 'Space Mono', monospace; min-height: 100vh; overflow-x: hidden; }
  body::before { content: ''; position: fixed; inset: 0; background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.04'/%3E%3C/svg%3E"); pointer-events: none; z-index: 9999; opacity: 0.4; }

  .header { padding: 40px 40px 0; border-bottom: 1px solid var(--border); }
  .header-top { display: flex; align-items: flex-end; justify-content: space-between; margin-bottom: 28px; gap: 20px; flex-wrap: wrap; }
  .title-block h1 { font-family: 'Playfair Display', serif; font-size: clamp(42px, 6vw, 80px); font-weight: 900; line-height: 0.9; letter-spacing: -2px; }
  .title-block h1 span { color: var(--primary); font-style: italic; }
  .title-block p { margin-top: 12px; font-size: 11px; color: var(--text-dim); letter-spacing: 3px; text-transform: uppercase; }
  .stats-strip { display: flex; gap: 32px; flex-wrap: wrap; }
  .stat { text-align: right; }
  .stat-num { font-family: 'Playfair Display', serif; font-size: 32px; font-weight: 700; color: var(--primary); line-height: 1; }
  .stat-label { font-size: 10px; color: var(--text-dim); letter-spacing: 2px; text-transform: uppercase; margin-top: 4px; }

  /* CHANGED: Removed scroll, added wrapping and centering */
  .year-tabs { display: flex; gap: 10px; margin-top: 0; flex-wrap: wrap; justify-content: center; padding-bottom: 15px; }
  .year-tab { padding: 8px 14px; font-family: 'Space Mono', monospace; font-size: 11px; font-weight: 700; letter-spacing: 1px; color: var(--text-muted); background: transparent; border: 1px solid transparent; border-radius: 4px; cursor: pointer; transition: all 0.15s; white-space: nowrap; }
  .year-tab:hover { color: var(--text); border-color: var(--border); }
  .year-tab.active { color: var(--bg); background: var(--primary); border-color: var(--primary); }

  .controls { padding: 16px 40px; display: flex; gap: 10px; align-items: center; flex-wrap: wrap; border-bottom: 1px solid var(--border); background: var(--surface); }
  .search-wrap { position: relative; flex: 1; min-width: 200px; max-width: 380px; }
  .search-wrap svg { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: var(--text-muted); pointer-events: none; }
  input[type="text"] { width: 100%; background: var(--surface2); border: 1px solid var(--border); color: var(--text); font-family: 'Space Mono', monospace; font-size: 13px; padding: 9px 12px 9px 38px; outline: none; transition: border-color 0.15s; }
  input[type="text"]:focus { border-color: var(--primary); }
  input[type="text"]::placeholder { color: var(--text-muted); }
  select { background: var(--surface2); border: 1px solid var(--border); color: var(--text); font-family: 'Space Mono', monospace; font-size: 12px; padding: 9px 12px; outline: none; cursor: pointer; transition: border-color 0.15s; }
  select:focus { border-color: var(--primary); }
  .result-count { font-size: 11px; color: var(--text-dim); letter-spacing: 1px; margin-left: auto; white-space: nowrap; }
  .result-count span { color: var(--primary); }

  .table-wrap { overflow-x: auto; padding: 0 40px 40px; }
  table { width: 100%; border-collapse: collapse; }
  thead { position: sticky; top: 0; z-index: 10; background: var(--surface); }
  th { font-size: 10px; font-weight: 700; letter-spacing: 2px; text-transform: uppercase; color: var(--text-muted); padding: 13px 10px; text-align: left; border-bottom: 1px solid var(--border); white-space: nowrap; cursor: pointer; user-select: none; transition: color 0.15s; }
  th:hover { color: var(--primary); }
  th.sorted { color: var(--primary); }
  th.sorted::after { content: ' ↓'; }
  th.sorted.asc::after { content: ' ↑'; }
  
  td { padding: 11px 10px; border-bottom: 1px solid var(--border); font-size: 13px; vertical-align: middle; }
  tr { transition: background 0.1s; cursor: pointer; border-left: 3px solid transparent; }
  tr:hover td { background: var(--primary-glow); }

  /* Row Color Coding (The "Outline" Effect) */
  tr.row-y1 { border-left-color: #5d8fe8; }
  tr.row-y2 { border-left-color: #5dba7f; }
  tr.row-y3 { border-left-color: #e85d8f; }
  tr.row-y4 { border-left-color: #e8a45d; }
  tr.row-y5 { border-left-color: #a45de8; }
  tr.row-y6 { border-left-color: #5de8e8; }
  tr.row-y7 { border-left-color: #e8e85d; }
  tr.row-y8 { border-left-color: #9d4edd; }

  .td-num { color: var(--text-muted); font-size: 11px; width: 44px; text-align: right; }
  .td-name { font-weight: 700; color: var(--text); max-width: 260px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
  .td-artist { color: var(--text-dim); max-width: 180px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; } /* Brighter gray */
  .td-album { color: var(--text-muted); font-size: 12px; max-width: 180px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; } /* Readable gray */
  .td-date { color: var(--text-muted); font-size: 11px; white-space: nowrap; } /* Readable gray */

  .year-pill { display: inline-block; padding: 3px 7px; font-size: 10px; font-weight: 700; letter-spacing: 1px; border: 1px solid; border-radius: 4px; }
  .year-pill.y1 { border-color: #5d8fe8; color: #5d8fe8; }
  .year-pill.y2 { border-color: #5dba7f; color: #5dba7f; }
  .year-pill.y3 { border-color: #e85d8f; color: #e85d8f; }
  .year-pill.y4 { border-color: #e8a45d; color: #e8a45d; }
  .year-pill.y5 { border-color: #a45de8; color: #a45de8; }
  .year-pill.y6 { border-color: #5de8e8; color: #5de8e8; }
  .year-pill.y7 { border-color: #e8e85d; color: #e8e85d; }
  .year-pill.y8 { border-color: var(--primary); color: var(--primary); }

  .mini-bar-wrap { display: flex; align-items: center; gap: 6px; min-width: 72px; }
  .mini-bar { height: 4px; background: var(--border); flex: 1; position: relative; overflow: hidden; }
  .mini-bar-fill { height: 100%; position: absolute; left: 0; top: 0; }
  .bar-dance .mini-bar-fill { background: var(--primary); }
  .bar-energy .mini-bar-fill { background: var(--red); }
  .bar-vibe .mini-bar-fill { background: var(--green); }
  .mini-bar-val { font-size: 10px; color: var(--text-muted); width: 24px; text-align: right; }

  .explicit-tag { display: inline-block; background: var(--text-muted); color: var(--bg); font-size: 9px; font-weight: 700; padding: 1px 4px; margin-left: 5px; vertical-align: middle; border-radius: 2px; }

  .pagination { display: flex; align-items: center; justify-content: center; gap: 6px; padding: 24px 40px; border-top: 1px solid var(--border); flex-wrap: wrap; }
  .page-btn { background: var(--surface2); border: 1px solid var(--border); color: var(--text-dim); font-family: 'Space Mono', monospace; font-size: 12px; padding: 7px 13px; cursor: pointer; transition: all 0.15s; }
  .page-btn:hover { border-color: var(--primary); color: var(--primary); }
  .page-btn.active { background: var(--primary); color: var(--bg); border-color: var(--primary); font-weight: 700; }
  .page-btn:disabled { opacity: 0.3; cursor: default; }
  .page-btn:disabled:hover { border-color: var(--border); color: var(--text-dim); }

  /* MODAL */
  .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.87); z-index: 1000; display: none; align-items: center; justify-content: center; padding: 20px; }
  .modal-overlay.open { display: flex; }
  .modal { background: var(--surface); border: 1px solid var(--border); max-width: 540px; width: 100%; position: relative; animation: modalIn 0.18s ease-out; }
  @keyframes modalIn { from { opacity: 0; transform: translateY(16px); } to { opacity: 1; transform: translateY(0); } }
  .modal-header { padding: 28px 28px 18px; border-bottom: 1px solid var(--border); }
  .modal-header h2 { font-family: 'Playfair Display', serif; font-size: 24px; font-weight: 700; line-height: 1.2; margin-bottom: 5px; }
  .modal-artist { font-size: 13px; color: var(--primary); margin-bottom: 3px; }
  .modal-album { font-size: 12px; color: var(--text-muted); }
  .modal-body { padding: 20px 28px 26px; }
  .modal-meta { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; margin-bottom: 18px; }
  .modal-meta-item label { display: block; font-size: 9px; letter-spacing: 2px; text-transform: uppercase; color: var(--text-muted); margin-bottom: 3px; }
  .modal-meta-item span { font-size: 14px; color: var(--text); font-weight: 700; }
  .audio-features h3 { font-size: 10px; letter-spacing: 2px; text-transform: uppercase; color: var(--text-muted); margin-bottom: 12px; }
  .feature-row { display: flex; align-items: center; gap: 12px; margin-bottom: 9px; }
  .feature-label { font-size: 11px; color: var(--text-dim); width: 90px; flex-shrink: 0; }
  .feature-bar { flex: 1; height: 5px; background: var(--border); position: relative; overflow: hidden; }
  .feature-bar-fill { height: 100%; position: absolute; left: 0; top: 0; background: var(--primary); transition: width 0.35s ease-out; }
  .feature-val { font-size: 12px; font-weight: 700; color: var(--text); width: 32px; text-align: right; }
  .modal-actions { margin-top: 18px; }
  .btn-spotify { display: inline-flex; align-items: center; gap: 8px; background: #1DB954; color: #000; font-family: 'Space Mono', monospace; font-size: 12px; font-weight: 700; padding: 10px 18px; text-decoration: none; letter-spacing: 1px; transition: opacity 0.15s; }
  .btn-spotify:hover { opacity: 0.85; }
  .modal-close { position: absolute; top: 12px; right: 14px; background: none; border: none; color: var(--text-muted); font-size: 22px; cursor: pointer; padding: 4px 8px; transition: color 0.15s; line-height: 1; }
  .modal-close:hover { color: var(--text); }

  @media (max-width: 700px) {
    .header, .controls, .table-wrap, .pagination { padding-left: 16px; padding-right: 16px; }
    .td-album, .col-dance, .col-energy, .col-vibe { display: none; }
    .year-tabs { justify-content: flex-start; overflow-x: auto; flex-wrap: nowrap; } /* Keep scroll on mobile only if needed */
  }
</style>
</head>
<body>

<div class="header">
  <div class="header-top">
    <div class="title-block">
      <h1>Daily <span>Jam</span></h1>
      <p>One song · Every day · No repeats · Sept 24, 2018 →</p>
      <div style="margin-top:16px;display:flex;gap:16px"><a href="daily-jam-stats.html" style="font-size:11px;letter-spacing:2px;text-transform:uppercase;color:var(--text-dim);text-decoration:none;border-bottom:1px solid var(--border);padding-bottom:2px;transition:color 0.15s" onmouseover="this.style.color='var(--primary)'" onmouseout="this.style.color='var(--text-dim)'">Stats & Insights →</a></div>
    </div>
    <div class="stats-strip">
      <div class="stat">
        <div class="stat-num" id="total-songs">—</div>
        <div class="stat-label">Songs</div>
      </div>
      <div class="stat">
        <div class="stat-num" id="total-artists">—</div>
        <div class="stat-label">Artists</div>
      </div>
      <div class="stat">
        <div class="stat-num">8</div>
        <div class="stat-label">Years</div>
      </div>
    </div>
  </div>
  <div class="year-tabs">
    <button class="year-tab active" data-year="0">All Jams</button>
    <button class="year-tab" data-year="1">Daily Jam 1</button>
    <button class="year-tab" data-year="2">Daily Jam 2</button>
    <button class="year-tab" data-year="3">Daily Jam 3</button>
    <button class="year-tab" data-year="4">Daily Jam 4</button>
    <button class="year-tab" data-year="5">Daily Jam 5</button>
    <button class="year-tab" data-year="6">Daily Jam 6</button>
    <button class="year-tab" data-year="7">Daily Jam 7</button>
    <button class="year-tab" data-year="8">Daily Jam 8</button>
  </div>
</div>

<div class="controls">
  <div class="search-wrap">
    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
    <input type="text" id="search" placeholder="Search songs, artists, albums…">
  </div>
  <select id="sort-by">
    <option value="idx-asc">Original Order ↑</option>
    <option value="idx-desc">Original Order ↓</option>
    <option value="name-asc">Song A–Z</option>
    <option value="artist-asc">Artist A–Z</option>
  </select>
  <select id="filter-explicit">
    <option value="all">All Songs</option>
    <option value="clean">Clean Only</option>
    <option value="explicit">Explicit Only</option>
  </select>
  <div class="result-count"><span id="count-display">—</span> songs</div>
</div>

<div class="table-wrap">
  <table>
    <thead>
      <tr>
        <th class="td-num" data-col="idx">Day #</th>
        <th data-col="name">Song</th>
        <th data-col="artist">Artist</th>
        <th data-col="album" class="td-album">Album</th>
        <th data-col="added">Date</th>
        <th data-col="year">Era</th>
      </tr>
    </thead>
    <tbody id="song-table"></tbody>
  </table>
</div>
<div class="pagination" id="pagination"></div>

<div class="modal-overlay" id="modal-overlay">
  <div class="modal">
    <button class="modal-close" id="modal-close">×</button>
    <div class="modal-header">
      <h2 id="m-name">—</h2>
      <div class="modal-artist" id="m-artist">—</div>
      <div class="modal-album" id="m-album">—</div>
    </div>
    <div class="modal-body">
      <div class="modal-meta">
        <div class="modal-meta-item"><label>Jam Date</label><span id="m-added">—</span></div>
        <div class="modal-meta-item"><label>Day Number</label><span id="m-daynum">—</span></div>
        <div class="modal-meta-item"><label>Era</label><span id="m-year">—</span></div>
        <div class="modal-meta-item"><label>Release Year</label><span id="m-release">—</span></div>
        <div class="modal-meta-item"><label>Popularity</label><span id="m-popularity">—</span></div>
        <div class="modal-meta-item"><label>Tempo</label><span id="m-tempo">—</span></div>
      </div>
      <div class="audio-features">
        <h3>Audio Features</h3>
        <div class="feature-row"><div class="feature-label">Danceability</div><div class="feature-bar"><div class="feature-bar-fill" id="fb-dance"></div></div><div class="feature-val" id="fv-dance">—</div></div>
        <div class="feature-row"><div class="feature-label">Energy</div><div class="feature-bar"><div class="feature-bar-fill" id="fb-energy"></div></div><div class="feature-val" id="fv-energy">—</div></div>
        <div class="feature-row"><div class="feature-label">Positivity</div><div class="feature-bar"><div class="feature-bar-fill" id="fb-valence"></div></div><div class="feature-val" id="fv-valence">—</div></div>
        <div class="feature-row"><div class="feature-label">Acousticness</div><div class="feature-bar"><div class="feature-bar-fill" id="fb-acoustic"></div></div><div class="feature-val" id="fv-acoustic">—</div></div>
      </div>
      <div class="modal-actions">
        <a class="btn-spotify" id="m-spotify-link" href="#" target="_blank">▶ Open in Spotify</a>
      </div>
    </div>
  </div>
</div>

<script>
// Paste your giant SONGS array here (I am keeping the variable name SONGS for the script to work)
const SONGS = [
  {"idx": 1, "id": "2oENJa1T33GJ0w8dC167G4", "name": "Fire Burning", "artist": "Sean Kingston", "album": "Tomorrow", "added": "2018-09-24", "year": 1, "popularity": 75, "explicit": false, "danceability": 0.839, "energy": 0.804, "valence": 0.888, "tempo": 123, "acousticness": 0.0192, "release": "2009"}, 
  // ... (Keep the rest of your 2600+ songs here just like before) ...
  {"idx": 2671, "id": "6zEg4KEgz6RGhCPmDKplYf", "name": "Too Little, Too Late", "artist": "Laufey", "album": "A Matter of Time", "added": "2026-01-15", "year": 8, "popularity": 73, "explicit": true, "danceability": 0.281, "energy": 0.222, "valence": 0.173, "tempo": 159, "acousticness": 0.947, "release": "2025"}
];

let filtered = [...SONGS];
let currentYear = 0;
let currentSort = 'idx-asc';
let currentPage = 1;
const PAGE_SIZE = 50;

// Stats
document.getElementById('total-songs').textContent = SONGS.length.toLocaleString();
document.getElementById('total-artists').textContent = new Set(SONGS.map(s => s.artist)).size.toLocaleString();

const YEAR_LABELS = ['','Daily Jam 1','Daily Jam 2','Daily Jam 3','Daily Jam 4','Daily Jam 5','Daily Jam 6','Daily Jam 7','Daily Jam 8'];

function applyFilters() {
  const q = document.getElementById('search').value.toLowerCase().trim();
  const explicitFilter = document.getElementById('filter-explicit').value;
  filtered = SONGS.filter(s => {
    if (currentYear !== 0 && s.year !== currentYear) return false;
    if (explicitFilter === 'clean' && s.explicit) return false;
    if (explicitFilter === 'explicit' && !s.explicit) return false;
    if (q) {
      if (!(s.name + ' ' + s.artist + ' ' + s.album).toLowerCase().includes(q)) return false;
    }
    return true;
  });
  applySort();
}

function applySort() {
  const parts = currentSort.split('-');
  const col = parts.slice(0,-1).join('-');
  const asc = parts[parts.length-1] === 'asc';
  filtered.sort((a, b) => {
    let av = a[col], bv = b[col];
    if (typeof av === 'string') av = av.toLowerCase();
    if (typeof bv === 'string') bv = bv.toLowerCase();
    if (av < bv) return asc ? -1 : 1;
    if (av > bv) return asc ? 1 : -1;
    return 0;
  });
  currentPage = 1;
  render();
}

function render() {
  const start = (currentPage - 1) * PAGE_SIZE;
  const page = filtered.slice(start, start + PAGE_SIZE);
  document.getElementById('count-display').textContent = filtered.length.toLocaleString();
  
  // Note the class "row-y${s.year}" added to the <tr> for the outline effect
  document.getElementById('song-table').innerHTML = page.map(s => `
    <tr class="row-y${s.year}" onclick="openModal('${s.id}')">
      <td class="td-num" style="text-align:right">${s.idx.toLocaleString()}</td>
      <td class="td-name">${s.name}${s.explicit ? '<span class="explicit-tag">E</span>' : ''}</td>
      <td class="td-artist">${s.artist}</td>
      <td class="td-album">${s.album}</td>
      <td class="td-date">${s.added}</td>
      <td><span class="year-pill y${s.year}">DJ ${s.year}</span></td>
    </tr>`).join('');
  renderPagination();
}

function renderPagination() {
  const total = Math.ceil(filtered.length / PAGE_SIZE);
  const pag = document.getElementById('pagination');
  if (total <= 1) { pag.innerHTML = ''; return; }
  let html = `<button class="page-btn" onclick="goPage(${currentPage-1})" ${currentPage===1?'disabled':''}>← Prev</button>`;
  let pages = [...new Set([1,total,currentPage,currentPage-1,currentPage+1,currentPage-2,currentPage+2].filter(p=>p>=1&&p<=total))].sort((a,b)=>a-b);
  let prev = null;
  for (let p of pages) {
    if (prev !== null && p - prev > 1) html += `<span style="color:var(--text-muted);padding:0 4px">…</span>`;
    html += `<button class="page-btn ${p===currentPage?'active':''}" onclick="goPage(${p})">${p}</button>`;
    prev = p;
  }
  html += `<button class="page-btn" onclick="goPage(${currentPage+1})" ${currentPage===total?'disabled':''}>Next →</button>`;
  pag.innerHTML = html;
}

function goPage(p) {
  const total = Math.ceil(filtered.length / PAGE_SIZE);
  if (p < 1 || p > total) return;
  currentPage = p;
  render();
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

const songMap = {};
SONGS.forEach(s => songMap[s.id] = s);

function openModal(id) {
  const s = songMap[id];
  if (!s) return;
  document.getElementById('m-name').textContent = s.name;
  document.getElementById('m-artist').textContent = s.artist;
  document.getElementById('m-album').textContent = s.album;
  document.getElementById('m-added').textContent = s.added;
  document.getElementById('m-daynum').textContent = `Day ${s.idx.toLocaleString()}`;
  document.getElementById('m-year').textContent = YEAR_LABELS[s.year];
  document.getElementById('m-release').textContent = s.release || '—';
  document.getElementById('m-popularity').textContent = s.popularity + ' / 100';
  document.getElementById('m-tempo').textContent = s.tempo + ' BPM';
  [['dance',s.danceability],['energy',s.energy],['valence',s.valence],['acoustic',s.acousticness]].forEach(([k,v]) => {
    document.getElementById(`fb-${k}`).style.width = (v*100)+'%';
    document.getElementById(`fv-${k}`).textContent = Math.round(v*100);
  });
  document.getElementById('m-spotify-link').href = `https://community.spotify.com/t5/Desktop-Windows/Export-Playlist-Backup/td-p/3697528${s.id}`;
  document.getElementById('modal-overlay').classList.add('open');
}

document.getElementById('modal-close').onclick = () => document.getElementById('modal-overlay').classList.remove('open');
document.getElementById('modal-overlay').onclick = function(e) { if (e.target===this) this.classList.remove('open'); };
document.addEventListener('keydown', e => { if (e.key==='Escape') document.getElementById('modal-overlay').classList.remove('open'); });

document.getElementById('search').addEventListener('input', applyFilters);
document.getElementById('sort-by').addEventListener('change', function() { currentSort = this.value; applyFilters(); });
document.getElementById('filter-explicit').addEventListener('change', applyFilters);
document.querySelectorAll('.year-tab').forEach(btn => {
  btn.addEventListener('click', function() {
    document.querySelectorAll('.year-tab').forEach(b => b.classList.remove('active'));
    this.classList.add('active');
    currentYear = parseInt(this.dataset.year);
    applyFilters();
  });
});

applyFilters();
</script>
</body>
</html>
